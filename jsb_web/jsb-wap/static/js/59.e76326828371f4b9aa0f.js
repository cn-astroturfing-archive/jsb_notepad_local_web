(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"2WBM":function(e,t,n){},"9uwL":function(e,t,n){"use strict";n.r(t);var o=n("MfoN"),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t.default=a.a},DXQ8:function(e,t,n){"use strict";n("2WBM")},MfoN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(n("cLjf")),a=u(n("hDQ3")),r=u(n("bS4n")),s=n("dzbt");u(n("7Qib"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{telephone:"",smsCode:"",sent:!1,sentText:""}},computed:(0,r.default)({},(0,s.mapState)(["userInfo"])),watch:{smsCode:function(e){e.length>6&&(this.smsCode=e.slice(0,6))}},methods:(0,r.default)({},(0,s.mapMutations)(["SET_USERINFO"]),{onClickLeft:function(){this.$router.go(-1)},validator:function(e){return/^1\d{10}$/.test(e)},onSubmit:function(e){var t=this;return(0,a.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.telephone,n.prev=1,t.$toast.loading(),n.next=5,t.$api.user.updatePhone({isLoad:!1,telephone:t.telephone,smsCode:t.smsCode});case 5:n.sent,t.$toast.success("修改成功"),t.userInfo.telephone=t.telephone.replace(/(\d{3})\d{4}(\d{4})/g,"$1****$2"),t.SET_USERINFO(t.userInfo),setTimeout((function(){t.$router.go(-1)}),2500),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:case"end":return n.stop()}}),n,t,[[1,12]])})))()}})}},"qh/1":function(e,t,n){"use strict";n.r(t);var o=n("sLpw"),a=n("9uwL");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("DXQ8");var s=n("gp09"),u=Object(s.a)(a.default,o.a,o.b,!1,null,null,null);t.default=u.exports},sLpw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my_mod_phone_wrap"},[t("van-nav-bar",{attrs:{title:e.$route.meta.title,"left-arrow":"","right-text":"　",fixed:""},on:{"click-left":e.onClickLeft}}),e._v(" "),t("van-form",[t("van-cell-group",[t("van-field",{attrs:{label:"新手机号码",placeholder:"请输入新手机号码",name:"telephone","input-align":"right",rules:[{required:!0,message:"手机号码不能为空"},{validator:e.validator,message:"手机号码格式不对"}]},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}}),e._v(" "),t("van-field",{attrs:{center:"",clearable:"",label:"短信验证码","input-align":"right",placeholder:"请输入短信验证码"},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}})],1),e._v(" "),t("div",{staticClass:"bottom_btns"},[t("van-button",{attrs:{type:"info",block:"","native-type":"submit"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)},a=[]}}]);