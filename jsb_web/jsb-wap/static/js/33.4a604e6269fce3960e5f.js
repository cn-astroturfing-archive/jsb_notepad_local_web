(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"6lO7":function(t,i,e){"use strict";e.r(i);var n=e("TALS"),s=e("HtCf");for(var a in s)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(a);e("akH6"),e("Io7S");var r=e("gp09"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"57967d87",null);i.default=o.exports},HtCf:function(t,i,e){"use strict";e.r(i);var n=e("cP0M"),s=e.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i.default=s.a},Io7S:function(t,i,e){"use strict";e("N/sL")},"N/sL":function(t,i,e){},TALS:function(t,i,e){"use strict";e.d(i,"a",(function(){return n})),e.d(i,"b",(function(){return s}));var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"my_notice"},[i("van-nav-bar",{attrs:{"left-arrow":"",title:t.$route.meta.title,fixed:"","right-text":"　"},on:{"click-left":t.onClickLeft}}),t._v(" "),i("div",{staticClass:"content_wrap"},[i("scroller",{ref:"my_scroller",attrs:{refreshText:"下拉刷新","on-refresh":t.refresh,"on-infinite":t.infinite}},t._l(t.tabledata,(function(e){return i("div",{key:e.id,staticClass:"notice_item",class:{is_read:1==e.isRead},on:{click:function(i){return t.toDetail(e)}}},[i("div",{staticClass:"notice_img"},[i("div",{staticClass:"img_div",class:"type"+e.type}),t._v(" "),i("div",{staticClass:"description",class:"type"+e.type},[t._v(t._s(t._f("formatType")(e.type)))])]),t._v(" "),i("div",{staticClass:"notice_info"},[i("div",{staticClass:"time"},[t._v(t._s(e.createTime))]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(e.title))])])])})),0)],1)],1)},s=[]},akH6:function(t,i,e){"use strict";e("hKBd")},cP0M:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=r(e("cLjf")),s=r(e("bS4n")),a=r(e("hDQ3"));function r(t){return t&&t.__esModule?t:{default:t}}i.default={data:function(){return{dataEnd:!1,sending:!1,queryParam:{pageSize:10,pageNo:1},tabledata:[]}},filters:{formatType:function(t){var i="";switch(t){case 1:i="系统通知";break;case 2:i="活动通知";break;case 3:i="反馈通知"}return i}},mounted:function(){var t=this;window.refreshNoticeList&&1==window.refreshNoticeList?this.refresh():(!window.myNoticeList||window.myNoticeList.length<=0?this.$refs.my_scroller.triggerPullToRefresh():(this.tabledata=window.myNoticeList,this.queryParam.pageNo=window.myNoticePageNo),"myNoticeDataEnd"in window&&window.myNoticeDataEnd&&(this.dataEnd=!0,this.$refs.my_scroller.finishInfinite(!0)),window.myNoticeListScrollerPosition&&this.$nextTick((function(){setTimeout((function(){t.$refs.my_scroller.scrollTo(window.myNoticeListScrollerPosition.left,window.myNoticeListScrollerPosition.top,!1)}),500)})))},methods:{onClickLeft:function(){this.$router.go(-1)},refresh:function(t){this.dataEnd=!1,this.$refs.my_scroller.finishInfinite(!1),this.queryParam.pageNo=1,this.getList(t)},infinite:function(t){this.dataEnd?(t(),this.$refs.my_scroller.finishInfinite(!0)):this.getList(t)},getList:function(t){var i=this;return(0,a.default)(n.default.mark((function e(){var a,r;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.sending){e.next=2;break}return e.abrupt("return");case 2:return i.sending=!0,e.next=5,i.$api.notice.myList((0,s.default)({},i.queryParam,{isLoad:!1}));case 5:a=e.sent,r=1===i.queryParam.pageNo?[].concat(a.data.list):i.tabledata.concat(a.data.list),i.tabledata=r,window.myNoticeList=r,window.myNoticePageNo=i.queryParam.pageNo,i.queryParam.pageNo===(a.data.pages||1)?(i.dataEnd=!0,window.myNoticeDataEnd=!0,i.$refs.my_scroller.finishInfinite(!0)):(i.dataEnd=!1,window.myNoticeDataEnd=!1,i.$refs.my_scroller.finishInfinite(!1)),"function"==typeof t&&t(),i.sending=!1,i.queryParam.pageNo+=1;case 14:case"end":return e.stop()}}),e,i)})))()},toDetail:function(t){window.refreshNoticeList=0,t.isRead=1,window.myNoticeListScrollerPosition=this.$refs.my_scroller.getPosition(),this.$router.push({name:"MyNoticeDetail",query:{id:t.id}})}}}},hKBd:function(t,i,e){}}]);