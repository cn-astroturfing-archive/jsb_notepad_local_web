(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"+MTL":function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return r}));var o=function(){var t=this,n=t._self._c;return n("div",{staticClass:"my_userinfo_wrap"},[n("van-nav-bar",{attrs:{title:t.$route.meta.title,"left-arrow":"",fixed:"","right-text":"  "},on:{"click-left":t.onClickLeft}}),t._v(" "),n("div",{staticClass:"userinfo_container"},[n("van-cell-group",{attrs:{title:"",border:!1}},[n("van-cell",{attrs:{title:"帐号",value:t.userInfo.username}}),t._v(" "),n("van-cell",{attrs:{title:"昵称",value:t.userInfo.name,"is-link":"",to:{name:"ModNickname"}}}),t._v(" "),n("van-cell",{attrs:{title:"修改密码","is-link":"",to:{name:"ModPasswordNeedOld"}}}),t._v(" "),n("van-cell",{attrs:{title:"手机号码",value:t.userInfo.telephone}}),t._v(" "),n("van-cell",{attrs:{title:"解锁设置",value:t.unLockText,"is-link":""},on:{click:t.fingerPrint}}),t._v(" "),n("van-cell",{attrs:{title:"用户反馈","is-link":"",to:{name:"FeedbackList",query:{questionType:2,questionTypeText:"APP使用体验问题与建议"}}},scopedSlots:t._u([{key:"title",fn:function(){return[n("span",[t._v("用户反馈")]),t._v(" "),t.userInfo.unreadFeedbackCount&&t.userInfo.unreadFeedbackCount>0?n("span",{staticClass:"feedback_unread_count"},[t._v(t._s(t.userInfo.unreadFeedbackCount))]):t._e()]},proxy:!0}])}),t._v(" "),n("van-cell",{attrs:{title:"用户协议","is-link":"",to:{name:"Protocol"}}}),t._v(" "),n("van-cell",{attrs:{title:"隐私政策","is-link":"",to:{name:"Secret"}}}),t._v(" "),n("van-cell",{attrs:{title:"已收集个人信息清单","is-link":"",to:{name:"GatherInformation"}}}),t._v(" "),n("van-cell",{attrs:{title:"与第三方共享个人信息清单","is-link":"",to:{name:"SharedInformation"}}}),t._v(" "),n("van-cell",{attrs:{title:"版本更新",value:t.versionName,"is-link":""},on:{click:t.updateVersion}}),t._v(" "),n("van-cell",{attrs:{title:"APP权限管理","is-link":"",to:{name:"PermissionManage"}}}),t._v(" "),n("van-cell",{attrs:{title:"清除缓存","is-link":"",label:"包括：图片、数据等"},on:{click:t.clearCache}}),t._v(" "),n("van-cell",{attrs:{title:"切换账号","is-link":""},on:{click:t.showChangeAccount}})],1),t._v(" "),n("van-cell-group",{attrs:{title:"",border:!1}},[n("van-cell",{on:{click:function(n){t.showPopup=!0}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"btn_logout"},[t._v("退出登录")])]},proxy:!0}])})],1)],1),t._v(" "),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPopup,callback:function(n){t.showPopup=n},expression:"showPopup"}},[n("div",{staticClass:"userinfo_btns"},[n("van-button",{attrs:{block:"",type:"info"},on:{click:t.logout}},[t._v("退出登录")]),t._v(" "),n("van-button",{staticClass:"g_btn_gray",attrs:{block:"",type:"default"},on:{click:function(n){t.showPopup=!1}}},[t._v("取消")])],1)]),t._v(" "),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showlogOff,callback:function(n){t.showlogOff=n},expression:"showlogOff"}},[n("div",{staticClass:"userinfo_btns"},[n("van-button",{attrs:{block:"",type:"info"},on:{click:t.delAccount}},[t._v("确认注销当前账号")]),t._v(" "),n("van-button",{staticClass:"g_btn_gray",attrs:{block:"",type:"default"},on:{click:function(n){t.showlogOff=!1}}},[t._v("取消")])],1)]),t._v(" "),n("van-dialog",{attrs:{title:"切换账号",showCancelButton:!1,showConfirmButton:!1,closeOnClickOverlay:!0,cancelButtonColor:"#4c4c4c",confirmButtonColor:"#4485ED"},model:{value:t.usernameSwitchDialog,callback:function(n){t.usernameSwitchDialog=n},expression:"usernameSwitchDialog"}},[n("div",{staticClass:"username_select_div"},[n("van-cell-group",{attrs:{title:"",border:!1}},t._l(t.telephoneBindUser,(function(e){return n("van-cell",{attrs:{title:e.name,label:e.username,"is-link":""},on:{click:function(n){return t.confirmTelephoneUsername(e)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e.currentLogin?n("van-tag",{attrs:{type:"primary"}},[t._v("当前使用")]):t._e()]},proxy:!0}],null,!0)})})),1)],1)])],1)},r=[]},"9MQ3":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=s(e("cLjf")),r=s(e("hDQ3")),i=s(e("bS4n")),a=e("dzbt");function s(t){return t&&t.__esModule?t:{default:t}}n.default={components:{},computed:(0,i.default)({},(0,a.mapState)(["userInfo"]),{versionName:function(){return"V"+this.version}}),data:function(){return{showPopup:!1,showlogOff:!1,version:"",unLockText:"",usernameSwitchDialog:!1,telephoneBindUser:[]}},created:function(){this.setFingerPrintText(),this.setVersion()},methods:(0,i.default)({setFingerPrintText:function(){var t=this;this.getConfig(this.userInfo.userId,"fingerprint",(function(n){t.unLockText="1"==n?"启用":"未启用"})),"启用"!=this.unLockText&&this.getConfig(this.userInfo.userId,"gesture",(function(n){t.unLockText=n?"启用":"未启用"}))},fingerPrint:function(){this.$router.push({name:"FingerPrint"})},goToThird:function(t){window.open(t)}},(0,a.mapMutations)(["RESET_STATE"]),{onClickLeft:function(){this.$router.go(-1)},logout:function(){var t=this;return(0,r.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$api.login.logout();case 2:n.sent,t.RESET_STATE(),t.$router.push({name:"Login"});case 5:case"end":return n.stop()}}),n,t)})))()},deleteCookie:function(t){document.cookie=t+"=;}"},delAccount:function(){var t=this;this.showlogOff=!1,this.$dialog.confirm({title:"确认注销当前账号",message:"当前操作将删除该账号下所有数据(积分、稿件、分享记录等), 是否注销?",confirmButtonText:"确认注销",confirmButtonColor:"#ff0000"}).then((function(){t.logoff()})).catch((function(){}))},logoff:function(){var t=this;return(0,r.default)(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$api.user.logoff();case 2:n.sent,t.RESET_STATE(),t.$router.push({name:"Login"});case 5:case"end":return n.stop()}}),n,t)})))()},updateVersion:function(){var t=this;this.checkVersion((function(n){"0"===n.code&&("false"!==n.data||t.$toast("已是最新版本"))}))},setVersion:function(){var t=this;this.getAppVersion((function(n){"0"===n.code&&(t.version=n.versionName||n.data)}))},xiugai:function(){var t=this;return(0,r.default)(o.default.mark((function n(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),n,t)})))()},clearCache:function(){var t=this;this.$dialog.confirm({message:"确认要清除缓存吗？",confirmButtonText:"确定"}).then((function(n){try{t.clearDiskCache()}catch(t){}t.$toast.success("清理完毕")})).catch((function(){}))},showChangeAccount:function(){var t=this;return(0,r.default)(o.default.mark((function n(){var e,r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$api.user.myAccountList();case 2:e=n.sent,r=e.data.map((function(n){return n.currentLogin=n.username==t.userInfo.username,n})),t.telephoneBindUser=r,t.usernameSwitchDialog=!0;case 6:case"end":return n.stop()}}),n,t)})))()},confirmTelephoneUsername:function(t){var n=this;return(0,r.default)(o.default.mark((function e(){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.currentLogin){e.next=3;break}return n.usernameSwitchDialog=!1,e.abrupt("return");case 3:return e.next=5,n.$api.user.changeLoginAccount(t);case 5:r=e.sent,n.RESET_STATE(),n.$router.push({name:"Login",query:{customUuid:r.data}});case 8:case"end":return e.stop()}}),e,n)})))()}})}},QnN4:function(t,n,e){"use strict";e("gk6D")},"Uj/n":function(t,n,e){"use strict";e.r(n);var o=e("9MQ3"),r=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n.default=r.a},cXTd:function(t,n,e){"use strict";e.r(n);var o=e("+MTL"),r=e("Uj/n");for(var i in r)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(i);e("QnN4");var a=e("gp09"),s=Object(a.a)(r.default,o.a,o.b,!1,null,null,null);n.default=s.exports},gk6D:function(t,n,e){}}]);