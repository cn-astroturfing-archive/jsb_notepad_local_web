(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"+AhF":function(e,t,a){e.exports=a.p+"static/img/feedback.ab90ae3.png"},"/Xoj":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEQUlEQVR4Xu2bW6htYxTHf3+5haTUecCTco9ySTwoR+GFEEd5cCnUwXHL4RzJQW6d44GTey5xRIoH8SBS5BKSa3hxKXlwSwkPpOOvsX3rNNfcc80519pz7T3XnnO87N1e3/zmGL/vP+Y35ljfFh03dTx+egC9AjpOoE+BjgugfwiWpoDtk4FjgWPSz91nRDG/AW8A7wEfS3p1lN+FAGzvANwGXDcjAVe5+RKwStLf+YHzANjeF/imasYZ/XyFpF+yvhcB+BI4aEYDrHL7NUknjgRg+4Yk/aqJZvnzyyQ9MAhgSAG2PwSOKIjubuBdYEg+LaawG3A2cG6Bj59IOnwegPTg+wvYLnfRs5LOaXGwI12zvR64MzfgX2BnSf/E37cpwPZhwKcFs/0ErJf0xCxBsB2Ldhewd4HfR0r6KA/gKiCkPsoeAdZK+r3NIGzvAtwBXFni59WS7skDOB54vSK4z4EbJb3QRgi2V6bgo3Ars5WSolAaSoE6AAaTbpK0rk0QRuT7KBcXDCAmfjulxPtLCcL2gWnVzxjDj0YAxP22ppTIP2nH8GXyobbPBx4Fth9zlrEA3A5EgVRmUWtfJOnnMR2ZaLjtPdL2trpigtgFri0YUx+AJKWHy33AwSU3/DWlxFS3y/SG+jiwV4kvX8UuIOll214wgJjA9k5pX728gvoWSSHNxs32LcCGiokfA6LcnXvzawzA4Ka2TwfuBfYpceRr4EJJbzZBIRVpoaxtJWzBvD8kBT6T/axxAInqCmATULXSGyVFOTqx2b4UuL9igueBKyQFhCGbCoCMGi4ANgNlnaIPgDMlfT8OBdsBeQsQXalR9idwvaR4PhXaVAEkNewPbAQiNcpstaSH60CwfRbwXMXYV4BrJH1RNm7qADJqqHqXiKEvSjqtwuEngfMqgt8g6daaMJvZBWre7Oi0P59QIdtIiaFGpe3jAhAQe/woeydJ/q06/iSFLh6AjBpuBm6qcHKzpFBNbFVRsKytGD/R+8eipUDeedsnAVFFHlUSWBQs0aA4oGTMZ6ncDnWMbUsGIK1stKYiV+dWegJ7EFgn6Y8Jrp27ZEkBZFJiVWq2xo5Rx76Nik/S03UGl41pBYC0ElE5hhqidiizp5Lkv1to8K1RQDYQ2xcnNUShk7XoOEe3qVatUBdOaxSQg3BIgjAonqLFFsFHy61RayWAzLMhOrZbJf3YaNSZyVoNYFpB59S2+IXQYgRW9x69AprqCNUl3rZxvQJ6BTTUFG2btOv606dAnwJ9CtQuhOJgVByQytt+kqLPP3Nme9Q33ocO3juyJ0TibGC0mXfMRfqQpEtmLvr/myHxBc6anO9xNGbXeUdkYtAyOiS1J3AKcCoQv2et+JBUAtDtY3IJQncPSiYA3T4qmyB097B0rpnQzePys7jlTepz/z9Dk5JbLtf1ClguKzlpHL0CJiW3XK7rvAL+A01RMl9tLDVXAAAAAElFTkSuQmCC"},"/eR4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l(a("unDg")),i=l(a("omC7")),n=l(a("cLjf")),r=l(a("hDQ3")),o=l(a("bS4n")),c=a("dzbt"),u=l(a("NuEv"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Nav:u.default},computed:(0,o.default)({},(0,c.mapState)(["userInfo","bannerData"]),(0,c.mapState)("notice",["unReadNoticeCount"])),data:function(){return{loginState:!1,banners:[],searchParams:{seriesName:"",timeSort:"",completeRate:""},pageParams:{pageSize:10,pageIndex:1},dataEnd:!1,dataList:[],total:0,sending:!1,showTimePopup:!1,showCompletePopup:!1,timeText:"时间",completeText:"完成度",timeOptions:[{text:"由远及近",value:"asc"},{text:"由近及远",value:"desc"}],completeOptions:[{text:"全部",value:""},{text:"未学习",value:"1"},{text:"学习中",value:"2"},{text:"已完成",value:"3"}]}},created:function(){this.loadBannersData()},mounted:function(){this.loginState=!!this.userInfo.token,this.loadUnReadNoticeCount(),this.updateTimeText(),this.updateCompleteText(),this.$refs.my_scroller.triggerPullToRefresh()},watch:{"userInfo.token":function(e,t){var a=this;e!==t&&t&&this.$nextTick((function(){setTimeout((function(){a.resetAndReload()}),100)}))}},methods:(0,o.default)({},(0,c.mapMutations)(["SET_BANNER_DATA"]),(0,c.mapActions)("notice",["fetchUnReadNoticeCount","clearUnReadNoticeCount"]),{formatTags:function(e){return e?e.split(/[;；]/).filter((function(e){return""!==e.trim()})):[]},toSearch:function(){this.$router.push({name:"Search",query:{type:this.serviceId}})},fetchLoginState:function(){var e=this;this.$api.task.logNot().then((function(t){e.loginState=1==t.code}))},toNext:function(){var e=this;this.$api.task.logNot().then((function(t){1==t.code&&e.$router.push({name:"IntegralInfos"})}))},toLogin:function(){this.$router.push({name:"Login"})},toMyNotice:function(){window.refreshNoticeList=1,this.clearUnReadNoticeCount(),this.$router.push({name:"MyNotice"})},loadUnReadNoticeCount:function(){this.fetchUnReadNoticeCount()},changeInd:function(e,t){var a=this;return(0,r.default)(n.default.mark((function t(){var s;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=e.query)||(s={from:["TasksSquare","TasksLocation","TasksIndex"][a.activeIndex]}),a.$router.push({name:e.routeName,query:s});case 3:case"end":return t.stop()}}),t,a)})))()},loadBannersData:function(){var e=this;return(0,r.default)(n.default.mark((function t(){var s,r,o,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.bannerData&&e.bannerData.length>0&&(e.banners=e.bannerData),s=[],{image:a("3UUF"),routeName:"FeedbackActivityView"},r={image:a("+AhF"),routeName:"FeedbackAdd",query:{questionType:2,questionTypeText:"APP使用体验问题与建议"}},{image:a("ZNI4"),routeName:""},{image:a("dz4s"),routeName:"SignUpList",query:{manuscriptType:1,from:"gather"}},s.push(r),!(e.bannerData&&e.bannerData.length>0)){t.next=12;break}if(o=(0,i.default)(s),c=(0,i.default)(e.bannerData),o!=c){t.next=12;break}return t.abrupt("return");case 12:e.SET_BANNER_DATA(s),e.banners=s;case 14:case"end":return t.stop()}}),t,e)})))()},infinite:function(e){var t=this;return(0,r.default)(n.default.mark((function a(){return n.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:!t.dataEnd&&(0==t.total||t.total>t.dataList.length)?t.getList(e):(e(),t.$refs.my_scroller.finishInfinite(!0));case 1:case"end":return a.stop()}}),a,t)})))()},refresh:function(e){this.dataEnd=!1,this.$refs.my_scroller.finishInfinite(!1),this.pageParams.pageIndex=1,this.getList(e)},getList:function(e){var t=this;return(0,r.default)(n.default.mark((function a(){var i;return n.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.sending){a.next=3;break}return"function"==typeof e&&e(),a.abrupt("return");case 3:return t.sending=!0,a.prev=4,a.next=7,t.$api.onlineCourse.getSeriesList((0,o.default)({isLoad:!1},t.searchParams,t.pageParams));case 7:i=a.sent,1===t.pageParams.pageIndex?t.dataList=i.data.records||[]:t.dataList=[].concat((0,s.default)(t.dataList),(0,s.default)(i.data.records||[])),t.total=i.data.total,t.pageParams.pageIndex>=(i.data.pages||1)?t.dataEnd=!0:t.dataEnd=!1,t.$nextTick((function(){t.$refs.my_scroller&&t.$refs.my_scroller.finishInfinite(t.dataEnd)})),"function"==typeof e&&e(),t.pageParams.pageIndex+=1,a.next=21;break;case 16:a.prev=16,a.t0=a.catch(4),console.error("获取课程列表失败:",a.t0),"function"==typeof e&&e(),t.$refs.my_scroller.finishInfinite(!0);case 21:return a.prev=21,t.sending=!1,a.finish(21);case 24:case"end":return a.stop()}}),a,t,[[4,16,21,24]])})))()},goSeriesDetail:function(e){this.$router.push({name:"CourseSeries",query:{seriesId:e.id,seriesDesc:e.seriesDesc,seriesCoverImg:e.seriesCoverImg}})},confirmTimeFilter:function(e){this.searchParams.timeSort=e.value,this.showTimePopup=!1,this.updateTimeText(),this.refreshList()},confirmCompleteFilter:function(e){this.searchParams.completeRate=e.value,this.showCompletePopup=!1,this.updateCompleteText(),this.refreshList()},updateTimeText:function(){var e=this,t=this.timeOptions.find((function(t){return t.value===e.searchParams.timeSort}));this.timeText=t?t.text:"时间"},updateCompleteText:function(){var e=this,t=this.completeOptions.find((function(t){return t.value===e.searchParams.completeRate}));this.completeText=t?t.text:"完成度"},onSearchInput:function(){var e=this;clearTimeout(this.searchTimer),this.searchTimer=setTimeout((function(){e.refreshList()}),500)},refreshList:function(){this.pageParams.pageIndex=1,this.getList()},resetFilters:function(){this.searchParams.seriesName="",this.searchParams.timeSort="",this.searchParams.completeRate="",this.timeText="时间",this.completeText="完成度",this.refreshList()},resetAndReload:function(){this.searchParams.seriesName="",this.searchParams.timeSort="",this.searchParams.completeRate="",this.timeText="时间",this.completeText="完成度",this.pageParams.pageIndex=1,this.dataList=[],this.dataEnd=!1,this.total=0,this.getList()}}),beforeDestroy:function(){this.searchTimer&&clearTimeout(this.searchTimer)}}},"/fmy":function(e,t,a){"use strict";var s=a("WXo7"),i=a("1IqJ");e.exports=function(e,t,a){t in e?s.f(e,t,i(0,a)):e[t]=a}},"3UUF":function(e,t,a){e.exports=a.p+"static/img/pingce_award.0bda695.png"},"3jQx":function(e,t,a){"use strict";a.r(t);var s=a("aGRy"),i=a("qqJE");for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("QIeq");var r=a("gp09"),o=Object(r.a)(i.default,s.a,s.b,!1,null,null,null);t.default=o.exports},LD0F:function(e,t,a){"use strict";var s=a("copg"),i=a("fCtq"),n=a("MhL/"),r=a("QGqC"),o=a("W6+j"),c=a("+GGc"),u=a("/fmy"),l=a("rMDH");i(i.S+i.F*!a("FwU0")((function(e){Array.from(e)})),"Array",{from:function(e){var t,a,i,f,p=n(e),m="function"==typeof this?this:Array,d=arguments.length,h=d>1?arguments[1]:void 0,v=void 0!==h,g=0,x=l(p);if(v&&(h=s(h,d>2?arguments[2]:void 0,2)),null==x||m==Array&&o(x))for(a=new m(t=c(p.length));t>g;g++)u(a,g,v?h(p[g],g):p[g]);else for(f=x.call(p),a=new m;!(i=f.next()).done;g++)u(a,g,v?r(f,h,[i.value,g],!0):i.value);return a.length=g,a}})},LGhb:function(e,t,a){e.exports={default:a("z/Td"),__esModule:!0}},QIeq:function(e,t,a){"use strict";a("ftZK")},ZNI4:function(e,t,a){e.exports=a.p+"static/img/20231009_banner.8233434.png"},aGRy:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tasks_index_wrap"},[t("div",{staticClass:"my_header"},[t("div",{staticClass:"left_name"},[e._v("记事本")]),e._v(" "),t("div",{staticClass:"center_search"},[t("div",{staticClass:"search_wrap2"},[t("div",{staticClass:"search_con",on:{click:e.toSearch}},[t("input",{attrs:{type:"text",placeholder:"搜索",readonly:""}})])])]),e._v(" "),e.loginState?t("div",{staticClass:"right_score",on:{click:e.toNext}},[t("span",[e._v("积分")]),e._v("\n            "+e._s(e.userInfo.integralSum)+"\n        ")]):t("div",{staticClass:"right_login",on:{click:e.toLogin}},[t("span",[e._v("登录")])]),e._v(" "),t("div",{staticClass:"right_mail",on:{click:e.toMyNotice}},[e.unReadNoticeCount>0?t("span",{staticClass:"has_new_message"}):e._e(),e._v(" "),t("img",{attrs:{src:a("/Xoj")}})])]),e._v(" "),t("div",{staticClass:"main_wrap"},[t("van-swipe",{attrs:{autoplay:3e3}},e._l(e.banners,(function(a,s){return t("van-swipe-item",{key:s},[a.routeName?t("router-link",{attrs:{to:""},nativeOn:{click:function(t){return e.changeInd(a,s)}}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.image,expression:"banner.image"}]})]):t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.image,expression:"banner.image"}]})],1)})),1),e._v(" "),t("div",{staticClass:"content_wrap"},[t("div",{staticClass:"filter-warp"},[t("div",{staticClass:"filter-left"},[t("div",{staticClass:"filter-item time-select",on:{click:function(t){e.showTimePopup=!0}}},[t("span",[e._v(e._s(e.timeText))]),e._v(" "),t("van-icon",{staticClass:"van-icon-triangle",attrs:{name:"play"}})],1),e._v(" "),t("div",{staticClass:"filter-item complete-select",on:{click:function(t){e.showCompletePopup=!0}}},[t("span",[e._v(e._s(e.completeText))]),e._v(" "),t("van-icon",{staticClass:"van-icon-triangle",attrs:{name:"play"}})],1)]),e._v(" "),t("div",{staticClass:"search-select"},[t("div",{staticClass:"series_search_wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchParams.seriesName,expression:"searchParams.seriesName"}],attrs:{type:"text",placeholder:"课程名称"},domProps:{value:e.searchParams.seriesName},on:{input:function(t){t.target.composing||e.$set(e.searchParams,"seriesName",t.target.value)}}}),e._v(" "),t("div",{staticClass:"search_con",on:{click:e.onSearchInput}})])])]),e._v(" "),t("div",{staticClass:"lesson-wrap"},[t("scroller",{ref:"my_scroller",attrs:{"on-refresh":e.refresh,"on-infinite":e.infinite}},[t("div",{staticClass:"lesson-list"},e._l(e.dataList,(function(a,s){return t("div",{key:s,staticClass:"lesson-item",on:{click:function(t){return e.goSeriesDetail(a)}}},[t("div",{staticClass:"left"},[t("img",{attrs:{src:a.seriesCoverImg,alt:""}})]),e._v(" "),t("div",{staticClass:"right"},[t("p",{staticClass:"title"},[e._v(e._s(a.seriesName))]),e._v(" "),t("p",{staticClass:"time"},[e._v("课程时间："+e._s(a.createTime))]),e._v(" "),e.formatTags(a.seriesTags).length>0?t("p",{staticClass:"label"},e._l(e.formatTags(a.seriesTags),(function(a,s){return t("span",{key:s},[e._v(e._s(a))])})),0):e._e()]),e._v(" "),a.completed?t("div",{staticClass:"complete-status"}):e._e()])})),0)])],1)])],1),e._v(" "),t("van-popup",{style:{height:"30%"},attrs:{position:"bottom",round:""},model:{value:e.showTimePopup,callback:function(t){e.showTimePopup=t},expression:"showTimePopup"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:e.timeOptions},on:{cancel:function(t){e.showTimePopup=!1},confirm:e.confirmTimeFilter}})],1),e._v(" "),t("van-popup",{style:{height:"30%"},attrs:{position:"bottom",round:""},model:{value:e.showCompletePopup,callback:function(t){e.showCompletePopup=t},expression:"showCompletePopup"}},[t("van-picker",{attrs:{"show-toolbar":"",columns:e.completeOptions},on:{cancel:function(t){e.showCompletePopup=!1},confirm:e.confirmCompleteFilter}})],1),e._v(" "),t("Nav",{ref:"myNav"})],1)},i=[]},dz4s:function(e,t,a){e.exports=a.p+"static/img/banner1.5db8dd7.png"},ftZK:function(e,t,a){},qqJE:function(e,t,a){"use strict";a.r(t);var s=a("/eR4"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);t.default=i.a},unDg:function(e,t,a){"use strict";t.__esModule=!0;var s,i=a("LGhb"),n=(s=i)&&s.__esModule?s:{default:s};t.default=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,n.default)(e)}},"z/Td":function(e,t,a){a("h6RU"),a("LD0F"),e.exports=a("zpmP").Array.from}}]);