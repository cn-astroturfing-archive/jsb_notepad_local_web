(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3vVk":function(t,n,i){"use strict";i.r(n);var e=i("hTp8"),o=i("AKuK");for(var s in o)["default"].indexOf(s)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(s);i("3wcW");var u=i("gp09"),l=Object(u.a)(o.default,e.a,e.b,!1,null,null,null);n.default=l.exports},"3wcW":function(t,n,i){"use strict";i("QGX3")},AKuK:function(t,n,i){"use strict";i.r(n);var e=i("MHpA"),o=i.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(s);n.default=o.a},MHpA:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=l(i("bS4n")),o=i("dzbt"),s=l(i("mF7X")),u=l(i("7Qib"));function l(t){return t&&t.__esModule?t:{default:t}}n.default={components:{DefaultPop:s.default},props:{uploadOptions:{type:Object,default:{type:"photo",interface_type:"img",form_source:null}},uploadCallback:{type:Function},value:{type:Boolean,default:!1}},computed:(0,e.default)({},(0,o.mapState)(["userInfo","photoPermission"])),data:function(){return{permissionTipDialogVisible:!1,showBtn:!1,version:""}},watch:{value:function(t){this.setVersion()}},methods:(0,e.default)({},(0,o.mapMutations)(["SET_PHOTO_PERMISSION"]),{setVersion:function(){var t=this;this.getAppVersion((function(n){"0"===n.code&&(t.version=n.versionName||n.data),t.uploadTypeChange()}))},upload:function(){var t=this;this.appPushToken(this.userInfo.token);var n=this.uploadOptions,i=n.interface_type,e=n.form_source,o=n.type;this.appUpload({type:o,interface_type:i,form_source:e},(function(n){return t.uploadCallback(n)}))},uploadTypeChange:function(){var t=this;if(this.isIOS)this.upload();else{var n=u.default.compareVersions(this.version,"1.0.8");!this.checkPermissions({storage:"android.permission.READ_EXTERNAL_STORAGE"})&&n>=0?(this.permissionTipDialogVisible=!0,null==this.photoPermission||0==this.photoPermission?(window.onAccessPermission=function(n){t.permissionTipDialogVisible=!1,window.onAccessPermission=null,t.SET_PHOTO_PERMISSION(n)},setTimeout((function(){t.upload()}),200)):this.showBtn=!0):setTimeout((function(){t.upload()}),200)}},permissionTipBeforeClose:function(t,n){"cancel"==t||"overlay"==t||"confirm"==t&&this.onGoPermissionSettings(),n()}})}},NQ9I:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=s(i("6ZY3")),o=s(i("7Qib"));function s(t){return t&&t.__esModule?t:{default:t}}n.default={props:{value:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{currentIndex:null,currentItem:{},showPop:this.value,initValue:[]}},watch:{value:function(t){this.showPop=t,this.initValue=o.default.deepClone(this.opts.initValue)},showPop:function(t){this.$emit("input",t)}},computed:{opts:function(){return(0,e.default)({},{showConfirmButton:!0},this.options)}},methods:{cancel:function(){this.$emit("input",!1),this.$emit("on-cancel")},confirm:function(){var t=this;this.$emit("input",!1),this.opts.multiple?this.opts.labelInValue?this.$emit("on-confirm",{label:this.initValue,value:this.initValue.map((function(n){return(t.opts.list.find((function(t){var i=t.label;return n==i}))||{}).value||""}))}):this.$emit("on-confirm",this.initValue):this.opts.labelInValue?this.$emit("on-confirm",this.currentItem):this.$emit("on-confirm",this.currentItem.label)},chooseItem:function(t,n){this.currentItem=t,this.currentIndex=n,this.opts.labelInValue?this.$emit("on-change",this.currentItem):this.$emit("on-change",this.currentItem.label),!1===this.opts.showConfirmButton&&this.confirm()},multipleChooseItem:function(t){var n=this.initValue.findIndex((function(n){return n==t.label}));n>=0?this.initValue.splice(n,1):this.initValue.push(t.label)}}}},QGX3:function(t,n,i){},hTp8:function(t,n,i){"use strict";i.d(n,"a",(function(){return e})),i.d(n,"b",(function(){return o}));var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"upload-tip-wrapper"},[n("van-dialog",{attrs:{title:"权限说明","show-cancel-button":t.showBtn,"show-confirm-button":t.showBtn,cancelButtonText:"关闭",cancelButtonColor:"#ee0a24",confirmButtonText:"去设置",confirmButtonColor:"#0a72fe",beforeClose:t.permissionTipBeforeClose},model:{value:t.permissionTipDialogVisible,callback:function(n){t.permissionTipDialogVisible=n},expression:"permissionTipDialogVisible"}},[n("div",{staticClass:"permission_tip_div"},[n("p",[t._v("存储权限:JSB需要存储权限来查看照片")]),t._v(" "),n("p",[t._v("您可在“手机设置-权限管理”中修改此配置")]),t._v(" "),n("p",[t._v("获取权限目的:支持用户将手机中的图片，用以进行专栏任务上传")])])])],1)},o=[]},leZc:function(t,n,i){"use strict";i("u3WF")},mF7X:function(t,n,i){"use strict";i.r(n);var e=i("mtDz"),o=i("vNnt");for(var s in o)["default"].indexOf(s)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(s);i("leZc");var u=i("gp09"),l=Object(u.a)(o.default,e.a,e.b,!1,null,null,null);n.default=l.exports},mtDz:function(t,n,i){"use strict";i.d(n,"a",(function(){return e})),i.d(n,"b",(function(){return o}));var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"default_pop_component_wrap"},[n("van-popup",{staticClass:"default_pop",attrs:{position:"bottom"},model:{value:t.showPop,callback:function(n){t.showPop=n},expression:"showPop"}},[n("div",{staticClass:"default_pop_title"},[t._v(t._s(t.opts.title||"选择类型"))]),t._v(" "),t.opts.multiple?n("ul",{staticClass:"default_pop_list"},t._l(t.opts.list,(function(i,e){return n("li",{key:e,class:{active:t.initValue.includes(i.label)},on:{click:function(n){return t.multipleChooseItem(i)}}},[t._v("\n        "+t._s(i.value)+"\n      ")])})),0):n("ul",{staticClass:"default_pop_list"},t._l(t.opts.list,(function(i,e){return n("li",{key:e,class:{active:t.currentIndex===e},on:{click:function(n){return t.chooseItem(i,e)}}},[t._v("\n        "+t._s(i.value)+"\n      ")])})),0),t._v(" "),t.opts.showCancelButton||t.opts.showConfirmButton?n("div",{staticClass:"default_pop_btns_group"},[t._t("cancel",(function(){return[t.opts.showCancelButton?n("div",{staticClass:"default_pop_btn",on:{click:t.cancel}},[t._v("\n          "+t._s(t.opts.cancelButtonText||"取消")+"\n        ")]):t._e()]})),t._v(" "),t._t("confirm",(function(){return[t.opts.showConfirmButton?n("div",{staticClass:"default_pop_btn",on:{click:t.confirm}},[t._v("\n          "+t._s(t.opts.confirmButtonText||"确定")+"\n        ")]):t._e()]}))],2):t._e()])],1)},o=[]},u3WF:function(t,n,i){},vNnt:function(t,n,i){"use strict";i.r(n);var e=i("NQ9I"),o=i.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(s);n.default=o.a}}]);