(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"+JcB":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sign_up_wang_wrap"},[e("van-nav-bar",{attrs:{title:t.$route.meta.title,"left-arrow":"","right-text":"　",fixed:""},on:{"click-left":t.onClickLeft}}),t._v(" "),e("van-form",{on:{submit:t.onSubmit}},[e("van-cell",{attrs:{title:"姓名",name:"name",value:t.userInfo.name}}),t._v(" "),t.state>0?e("van-cell",{attrs:{title:"审核状态",value:t._f("formatState")(t.state)}}):t._e(),t._v(" "),2!=t.state||t.liveOutlineObj&&t.liveOutlineObj.id?t._e():e("div",{staticClass:"audit_pass_no_my_live"},[t._v("\n\t\t\t审核通过，请上传直播大纲\n\t\t")]),t._v(" "),2!=t.state||t.liveOutlineObj&&t.liveOutlineObj.id?t._e():e("div",{staticClass:"bottom_btns"},[e("van-row",{attrs:{gutter:"20"}},[e("van-col",{attrs:{span:"24"}},[e("van-button",{attrs:{type:"info",block:""},on:{click:t.go2Activity}},[t._v("上传直播大纲")])],1)],1)],1),t._v(" "),0==t.state?e("div",{staticClass:"bottom_btns"},[e("van-row",{attrs:{gutter:"20"}},[e("van-col",{attrs:{span:"24"}},[e("van-button",{attrs:{type:"info",block:"","native-type":"submit"}},[t._v("立即报名")])],1)],1)],1):t._e()],1),t._v(" "),e("DefaultPop",{attrs:{options:t.mediaTypeOpts},on:{"on-change":t.selectMedia},model:{value:t.showMediaTypePop,callback:function(e){t.showMediaTypePop=e},expression:"showMediaTypePop"}})],1)},o=[]},"7/7O":function(t,e,n){"use strict";n("AQ7y")},AQ7y:function(t,e,n){},DJqG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n("cLjf")),o=l(n("hDQ3")),a=l(n("bS4n")),u=l(n("mF7X")),s=n("dzbt"),r=l(n("tI4l"));l(n("7Qib"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{DefaultPop:u.default},data:function(){return{liveOutlineObj:{id:"",title:"",createTime:""},form:{media:"",account:"",type:""},type:"insert",state:-1,showMediaTypePop:!1,mediaTypeOpts:{title:"",list:r.default.mediaPlatform,labelInValue:!0,showCancelButton:!1,showConfirmButton:!1},mediaPlatform:r.default.mediaPlatform,auditStateEnum:r.default.auditState}},computed:(0,a.default)({},(0,s.mapState)(["userInfo"])),created:function(){this.getDetails()},filters:{formatState:function(t){return["","审核中","审核通过","审核不通过"][t]}},methods:(0,a.default)({},(0,s.mapMutations)(["SET_USERINFO"]),{showMedia:function(){0===this.state&&(this.showMediaTypePop=!0)},selectMedia:function(t){this.form.media=t.value,this.form.type=t.id},onClickLeft:function(){this.$router.go(-1)},onSubmit:function(){var t=this;return(0,o.default)(i.default.mark((function e(){var n,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.form,n.type,n.account,e.prev=1,t.$toast.loading(),e.next=5,t.$api.whEnroll[t.type]((0,a.default)({isLoad:!1},t.form));case 5:o="insert"===t.type?"提交报名成功":"修改报名成功",t.$toast.success(o),t.state=1,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$toast.error("未知错误");case 13:case"end":return e.stop()}}),e,t,[[1,10]])})))()},getDetails:function(){var t=this;return(0,o.default)(i.default.mark((function e(){var n,o,a,u,s,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.whEnroll.detail({});case 2:if((n=e.sent).data){e.next=6;break}return t.state=0,e.abrupt("return");case 6:o=n.data,a=o.type,u=o.account,s=o.state,r=o.id,t.mediaPlatform.forEach((function(e){e.id===a&&(t.form.media=e.value)})),t.form.id=r,t.form.account=u,t.form.type=a,t.state=s,t.loadMyLiveOutlineObj(r),3===s&&t.$dialog.confirm({title:"审核不通过, 重新修改提交？",confirmButtonText:"修改"}).then((function(){t.form.id=r,t.state=0,t.type="update"}));case 14:case"end":return e.stop()}}),e,t)})))()},loadMyLiveOutlineObj:function(t){var e=this;this.$api.whEnroll.queryPersonalNewsByWhEnrollId({isLoad:!1,id:t}).then((function(t){t.data&&(e.liveOutlineObj=t.data)}))},go2Activity:function(){this.$router.push({name:"SignUpList",query:{manuscriptType:2,whEnrollId:this.form.id}})},go2ReEdit:function(){this.$router.push({name:"UploadOutline",query:{id:this.liveOutlineObj.id,whEnrollId:this.form.id}})}})}},NQ9I:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n("6ZY3"),a=(i=o)&&i.__esModule?i:{default:i};e.default={props:{value:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{currentIndex:null,currentItem:{},showPop:this.value}},watch:{value:function(t){var e=this;this.showPop=t,this.options&&this.options.currentValue&&(this.currentIndex=this.options.list.findIndex((function(t){return t.value==e.options.currentValue})))},showPop:function(t){this.$emit("input",t)}},computed:{opts:function(){return(0,a.default)({},{showConfirmButton:!0},this.options)}},methods:{cancel:function(){this.$emit("input",!1),this.$emit("on-cancel")},confirm:function(){this.$emit("input",!1),this.opts.labelInValue?this.$emit("on-confirm",this.currentItem):this.$emit("on-confirm",this.currentItem.label)},chooseItem:function(t,e){this.currentItem=t,this.currentIndex=e,this.opts.labelInValue?this.$emit("on-change",this.currentItem):this.$emit("on-change",this.currentItem.label),!1===this.opts.showConfirmButton&&this.confirm()}}}},TE7C:function(t,e,n){"use strict";n("jbV0")},TQ0x:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"default_pop_component_wrap"},[e("van-popup",{staticClass:"default_pop",attrs:{position:"bottom"},model:{value:t.showPop,callback:function(e){t.showPop=e},expression:"showPop"}},[e("div",{staticClass:"default_pop_title"},[t._v(t._s(t.opts.title||"选择类型"))]),t._v(" "),e("ul",{staticClass:"default_pop_list"},t._l(t.opts.list,(function(n,i){return e("li",{key:i,class:{active:t.currentIndex===i},on:{click:function(e){return t.chooseItem(n,i)}}},[t._v(t._s(n.value))])})),0),t._v(" "),t.opts.showCancelButton||t.opts.showConfirmButton?e("div",{staticClass:"default_pop_btns_group"},[t.opts.showCancelButton?t._t("cancel",(function(){return[e("div",{staticClass:"default_pop_btn",on:{click:t.cancel}},[t._v(t._s(t.opts.cancelButtonText||"取消"))])]})):t._e(),t._v(" "),t.opts.showConfirmButton?t._t("confirm",(function(){return[e("div",{staticClass:"default_pop_btn",on:{click:t.confirm}},[t._v(t._s(t.opts.confirmButtonText||"确定"))])]})):t._e()],2):t._e()])],1)},o=[]},hrSL:function(t,e,n){"use strict";n.r(e);var i=n("+JcB"),o=n("yNiE");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("7/7O");var u=n("gp09"),s=Object(u.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},jbV0:function(t,e,n){},mF7X:function(t,e,n){"use strict";n.r(e);var i=n("TQ0x"),o=n("vNnt");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("TE7C");var u=n("gp09"),s=Object(u.a)(o.default,i.a,i.b,!1,null,null,null);e.default=s.exports},vNnt:function(t,e,n){"use strict";n.r(e);var i=n("NQ9I"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a},yNiE:function(t,e,n){"use strict";n.r(e);var i=n("DJqG"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=o.a}}]);