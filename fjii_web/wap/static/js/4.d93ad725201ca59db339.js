(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/6AV":function(t,e,n){"use strict";n.r(e);var i=n("f6uJ"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=s.a},"21eQ":function(t,e,n){"use strict";n("AuR5")},"8S5L":function(t,e,n){"use strict";n("oCBE")},AuR5:function(t,e,n){},D2yK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("6ZY3")),s=r(n("bx15")),a=r(n("7Qib"));function r(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Panel:s.default},props:{value:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{multiple:!0}}}},data:function(){return{show:this.value,obj:[],opts:{},cascaderType:{checker:"审核人",department:"部门"}}},watch:{value:function(t){this.show=t},show:function(t){this.$emit("input",t),t&&this.list.length&&this.list[0].children.length&&this.$set(this.list[0],"show",!0)}},created:function(){var t=this;this.opts=(0,i.default)({type:"checker"},this.options),this.$bus.on("cascader-change",(function(e){"multiple"in t.opts&&t.opts.multiple?(t.obj=t.obj||[],e.checked?t.obj.push(e):t.obj.forEach((function(n,i){e.id===n.id&&t.obj.splice(i,1)}))):(t.obj=t.obj||[],e.checked?(t.obj.length&&(t.obj[0].checked=!1),t.obj.splice(0,1,e)):t.obj.splice(0))}))},methods:{cancel:function(){this.show=!1,this.$emit("input",!1)},confirm:function(){a.default.isEmpty(this.obj)||this.obj.type?this.$toast("请选择"+this.cascaderType[this.opts.type]):(this.show=!1,this.$emit("on-confirm",this.obj),this.$emit("input",!1))}},beforeDestroy:function(){delete this.opts,delete this.obj}}},Iifg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var i=function(){var t=this,e=t._self._c;return e("van-popup",{staticClass:"custom_cascader",attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("div",{staticClass:"btn_group flex"},[e("a",{staticClass:"cancel_btn",attrs:{href:"javascript:;"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),e("a",{staticClass:"confirm_btn",attrs:{href:"javascript:;"},on:{click:t.confirm}},[t._v("确定")])]),t._v(" "),e("div",{staticClass:"list"},[e("Panel",{attrs:{optType:t.opts.type,list:t.list,expandFirst:!!t.opts.expandFirst}})],1)])},s=[]},Li8Z:function(t,e,n){"use strict";n.r(e);var i=n("D2yK"),s=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e.default=s.a},bx15:function(t,e,n){"use strict";n.r(e);var i=n("f5Sh"),s=n("/6AV");for(var a in s)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(a);n("8S5L");var r=n("gp09"),c=Object(r.a)(s.default,i.a,i.b,!1,null,null,null);e.default=c.exports},f5Sh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var i=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"panel_ul"},t._l(t.list,(function(n,i){return e("li",{key:i},[n.children&&n.children.length||n.hasChildren?e("p",{staticClass:"caret",class:{down:n.show},style:{"padding-left":n.level*t.ratio+.53+"rem"},on:{click:function(e){return t.toggle(n,i)}}},[e("span",[t._v(t._s(n.name))])]):e("p",{style:{"padding-left":n.level*t.ratio+.53+"rem"},on:{click:function(e){return t.check(n,i,e)}}},[t._v(t._s(n.name)),e("i",{directives:[{name:"show",rawName:"v-show",value:n.checked,expression:"item.checked"}],staticClass:"checked"})]),t._v(" "),e("transition",{attrs:{name:"fade"}},[n.children&&n.children.length?[e("Panel",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"item.show"}],attrs:{optType:t.optType,list:n.children}})]:t._e()],2)],1)})),0)},s=[]},f6uJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n("cLjf")),s=a(n("hDQ3"));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Panel",props:{list:{required:!0,type:Array},optType:{type:String,default:"checker"},expandFirst:{type:Boolean,default:!0}},data:function(){return{show:!1,obj:{},ratio:0,cascaderType:{checker:"审核人",department:"部门"},cacheId:[]}},created:function(){var t=this;this.ratio=(lib.flexible.px2rem(40)/2).toFixed(2),this.expandFirst&&this.$nextTick((function(){t.toggle(t.list[0],0,null)}))},methods:{check:function(t,e,n){t.type&&"checker"===this.optType?this.$toast("请选择"+this.cascaderType[this.type]):"0"!==t.type||"department"!==this.optType?(this.$set(this.list[e],"checked",!t.checked),this.$bus.emit("cascader-change",t)):this.$toast("请选择"+this.cascaderType[this.type])},toggle:function(t,e){var n=this;return(0,s.default)(i.default.mark((function s(){var a,r,c;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n.$set(n.list[e],"show",!t.show),"department"!==n.optType){i.next=9;break}if(a=t.id,r=t.level,!(n.cacheId.indexOf(a)<0)){i.next=9;break}return i.next=7,n.findNoneUnitData(a,r);case 7:c=i.sent,n.$set(n.list[e],"children",c);case 9:case"end":return i.stop()}}),s,n)})))()},findNoneUnitData:function(t,e){var n=this;return(0,s.default)(i.default.mark((function s(){var a,r,c,o,u,l,f;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n.cacheId.push(t),i.next=3,n.$api.org.queryAllByParentId({id:t});case 3:for(a=i.sent,r=[],c=a.data,o=null==c?0:c.length,u=0;u<o;u++)l=c[u],(f={}).id=l.id,f.name=l.name,f.children=[],f.level=e+1,f.show=!1,f.hasChildren="0"==l.type,r.push(f);return i.abrupt("return",r);case 9:case"end":return i.stop()}}),s,n)})))()}}}},oCBE:function(t,e,n){},tHAz:function(t,e,n){"use strict";n.r(e);var i=n("Iifg"),s=n("Li8Z");for(var a in s)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(a);n("21eQ");var r=n("gp09"),c=Object(r.a)(s.default,i.a,i.b,!1,null,null,null);e.default=c.exports}}]);