(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"7O+6":function(e,t,n){"use strict";n.r(t);var a=n("TYpc"),s=n("RDJ+");for(var o in s)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(o);n("fp6N");var r=n("gp09"),i=Object(r.a)(s.default,a.a,a.b,!1,null,"0eb3ad64",null);t.default=i.exports},"RDJ+":function(e,t,n){"use strict";n.r(t);var a=n("taXH"),s=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t.default=s.a},TYpc:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pullNew_courtesy",style:{height:e.bodyHeight+"px"}},[e.navshow?t("van-nav-bar",{attrs:{title:e.$route.meta.title,"left-arrow":"","right-text":"　",fixed:""},on:{"click-left":e.onClickLeft}}):e._e(),e._v(" "),t("div",{staticClass:"bj"}),e._v(" "),e.disableBtn?t("div",{staticClass:"from"},[t("div",{staticClass:"row"},[t("div",{staticClass:"input"},[t("span",{staticClass:"phone"},[e._v("手机号")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.telephone,expression:"form.telephone"}],staticClass:"inputTele",attrs:{type:"text",placeholder:"请输入手机号码",id:"input"},domProps:{value:e.form.telephone},on:{input:function(t){t.target.composing||e.$set(e.form,"telephone",t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"input"},[t("span",{staticClass:"yzm"},[e._v("验证码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.yzmCode,expression:"form.yzmCode"}],staticClass:"yzmcode",attrs:{type:"text",placeholder:"手机验证码"},domProps:{value:e.form.yzmCode},on:{input:function(t){t.target.composing||e.$set(e.form,"yzmCode",t.target.value)}}}),e._v(" "),t("a",{staticClass:"send_code_btn phone_code",class:{disable:e.sent},attrs:{href:"javascript:;"},on:{click:e.sendMsgCode}},[e._v(e._s(e.sent?e.sentText:"发送验证码"))])])]),e._v(" "),t("div",{staticClass:"pro"},[t("div",{staticClass:"protocol"},[t("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},model:{value:e.agreeProtocol,callback:function(t){e.agreeProtocol=t},expression:"agreeProtocol"}},[t("span",{staticClass:"agree"},[e._v("我已阅读并同意使用")]),e._v(" "),t("router-link",{attrs:{to:{name:"Protocol"}}},[e._v("用户协议")]),e._v("、\n          "),t("router-link",{attrs:{to:{name:"Secret"}}},[e._v("隐私政策")])],1)],1)]),e._v(" "),e.disableBtn?t("div",{staticClass:"registerNow",on:{click:e.register}},[t("span",[e._v("立即注册领取豪礼")])]):e._e(),e._v(" "),e.disableBtn?t("div",{staticClass:"nowDowm",on:{click:e.download}},[t("span",[e._v("立即下载APP")])]):e._e()]):e._e(),e._v(" "),e.disableBtn?e._e():t("div",{staticClass:"register_success"},[t("div",{staticClass:"tip_success"},[e._v("恭喜你，注册成功!")]),e._v(" "),t("div",{staticClass:"download_url",on:{click:e.download}},[e._v("立即下载APP")])])],1)},s=[]},fp6N:function(e,t,n){"use strict";n("hOSt")},hOSt:function(e,t,n){},taXH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n("cLjf")),s=c(n("hDQ3")),o=c(n("bS4n")),r=n("dzbt"),i=c(n("7Qib"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{form:{telephone:"",yzmCode:""},sent:!1,sentText:"",agreeProtocol:!1,disableBtn:!0,navshow:!1,bodyHeight:""}},mounted:function(){this.nav(),this.onload_input(),this.bodyHeight=document.documentElement.clientHeight},created:function(){},watch:{agreeProtocol:function(e){console.log(e)},"form.yzmCode":function(e){e.length>6&&(this.form.yzmCode=e.slice(0,6))}},computed:(0,o.default)({},(0,r.mapState)(["userInfo"])),methods:{nav:function(){this.$route.query.user_id?this.navshow=!1:this.navshow=!0},onClickLeft:function(){this.$router.go(-1)},download:function(){window.open("https://mt.fjii.com/files/app/yitoutiao/download.html")},register:function(){var e=this;return(0,s.default)(a.default.mark((function t(){var n,s,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.clearTime(),n=e.form,s=n.telephone,o=n.yzmCode,i.default.isEmpty(s,"请输入手机号码")||!i.default.isMobile(s,"手机号码不对")||i.default.isEmpty(o,"请输入验证码")){t.next=22;break}if(!e.agreeProtocol){t.next=19;break}return"",t.prev=5,t.next=8,e.$api.login.register({telephone:i.default.defaultEncryptRetBase64(e.form.telephone),yzmCode:e.form.yzmCode,inviteeId:e.$route.query.user_id});case 8:t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(5),e.disableBtn=!0,t.abrupt("return");case 15:e.disableBtn=!1,e.$toast.success("注册成功"),t.next=20;break;case 19:e.$toast.fail("请先阅读并同意用户协议和隐私政策");case 20:t.next=23;break;case 22:e.disableBtn=!0;case 23:case"end":return t.stop()}}),t,e,[[5,11]])})))()},sendMsgCode:function(){var e=this;return(0,s.default)(a.default.mark((function t(){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.sent&&!i.default.isEmpty(e.form.telephone,"请输入手机号码")){t.next=2;break}return t.abrupt("return");case 2:if(i.default.isMobile(e.form.telephone,"手机号码不对")){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$api.login.getPhoneNum({isLoad:!1,phoneNum:i.default.defaultEncryptRetBase64(e.form.telephone)});case 6:t.sent,e.$toast.success("短信验证码已发送"),e.sent=!0,n=60,e.sentText=n+"S",e.time=setInterval((function(){1===n?(e.sent=!1,clearInterval(e.time)):(--n,e.sentText=n+"S")}),1e3);case 12:case"end":return t.stop()}}),t,e)})))()},clearTime:function(){if(this.time){clearInterval(this.time),this.sent=!1;this.sentText="60S"}}}}}}]);