(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{"2H4P":function(e,t,n){"use strict";n("3pHy")},"3pHy":function(e,t,n){},JULM:function(e,t,n){"use strict";n.r(t);var r=n("SJK9"),a=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t.default=a.a},OJXY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my_mod_nickname_wrap"},[t("van-nav-bar",{attrs:{title:e.$route.meta.title,"left-arrow":"","right-text":"  ",fixed:""},on:{"click-left":e.onClickLeft}}),e._v(" "),t("van-form",{on:{submit:e.onSubmit}},[t("van-cell-group",[t("van-field",{attrs:{label:"用户姓名",placeholder:"请输入用户姓名",name:"newName","input-align":"right",rules:[{required:!0,message:"用户姓名不能为空"},{validator:e.checkSensitiveWord,message:"请输入合法的名称"}]},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1),e._v(" "),t("div",{staticClass:"bottom_btns"},[t("van-button",{attrs:{type:"info",block:"","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[]},SJK9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("cLjf")),a=o(n("hDQ3")),u=o(n("bS4n")),i=n("dzbt");function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{newName:""}},computed:(0,u.default)({},(0,i.mapState)(["userInfo"])),methods:(0,u.default)({},(0,i.mapMutations)(["SET_USERINFO"]),{onClickLeft:function(){this.$router.go(-1)},onSubmit:function(e){var t=this;return(0,a.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.newName,n.next=3,t.$api.user.updateNickName({newName:a});case 3:t.$toast.success("修改成功"),t.userInfo.name=a,t.SET_USERINFO(t.userInfo),setTimeout((function(){t.$router.go(-1)}),1e3);case 7:case"end":return n.stop()}}),n,t)})))()},checkSensitiveWord:function(e){var t=this;return(0,a.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$api.base.checkSensitiveWord({isLoad:!1,type:0,content:e});case 3:return a=n.sent,n.abrupt("return",1===a.code);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",!1);case 10:case"end":return n.stop()}}),n,t,[[0,7]])})))()}})}},jbym:function(e,t,n){"use strict";n.r(t);var r=n("OJXY"),a=n("JULM");for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n("2H4P");var i=n("gp09"),o=Object(i.a)(a.default,r.a,r.b,!1,null,null,null);t.default=o.exports}}]);