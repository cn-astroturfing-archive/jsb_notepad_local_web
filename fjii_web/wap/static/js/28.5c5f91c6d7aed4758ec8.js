(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"G+2I":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(i("6ZY3")),n=o(i("3vVk"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{UploadTip:n.default},props:{value:{type:Array,default:function(){return[]}},fromSource:{type:Number,default:function(){return null}},options:{type:Object,defalut:function(){}}},computed:{uploadOptions:function(){var t={multiple:!1,interface_type:"img",form_source:this.fromSource,isMultiUpload:!1};return(0,a.default)({},t,this.options)}},data:function(){return{images:this.value,showUploadTypePop:!1}},watch:{value:function(t){this.images=t},images:function(t){this.$emit("input",t)}},methods:{remove:function(t){this.images.splice(t,1)},uploadCallback:function(t){t.filePath&&t.filePath.match(/^\/files\//)?this.images.push(t.filePath):this.$toast.fail("上传失败, 请重新上传")}}}},KEFt:function(t,e,i){},Pdp5:function(t,e,i){"use strict";i.r(e);var a=i("d+tt"),n=i("QI6s");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("kD8r");var l=i("gp09"),s=Object(l.a)(n.default,a.a,a.b,!1,null,null,null);e.default=s.exports},Puhd:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=f(i("cLjf")),n=f(i("hDQ3")),o=f(i("bS4n")),l=f(i("Pdp5")),s=f(i("mF7X")),c=i("dzbt"),r=f(i("7Qib")),u=f(i("tI4l"));function f(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Upload:l.default,DefaultPop:s.default},data:function(){return{form:{ativiteId:"",clickView:"",commentView:"",exceptionalView:"",id:"",liveAccount:"",livePlatform:"",liveTiming:"",pageView:"",transcriptPath:""},showMediaTypePop:!1,mediaTypeOpts:{title:"",list:u.default.mediaPlatform,labelInValue:!0,showCancelButton:!1,showConfirmButton:!1},selectedActivity:{},activities:[],showActPicker:!1,actPageParams:{pageSize:100,pageNo:1},achievementImages:[]}},computed:(0,o.default)({},(0,c.mapState)(["userInfo"])),methods:(0,o.default)({},(0,c.mapMutations)(["SET_USERINFO"]),{selectMedia:function(t){this.form.livePlatform=t.value},onClickLeft:function(){this.$router.go(-1)},onSubmit:function(){var t=this;return(0,n.default)(a.default.mark((function e(){var i,n,l,s,c,u,f,p,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.achievementImages.length&&(t.form.transcriptPath=t.achievementImages[0]),i=t.form,n=i.livePlatform,l=i.liveAccount,s=i.clickView,c=i.commentView,u=i.exceptionalView,f=i.pageView,p=i.transcriptPath,d=i.ativiteId,r.default.isEmpty(n,"请选择直播平台")||r.default.isEmpty(l,"请输入帐号")||r.default.isEmpty(f,"请填写浏览量")||r.default.isEmpty(s,"请填写点赞量")||r.default.isEmpty(c,"请填写评论量")||r.default.isEmpty(u,"请填写打赏量")||r.default.isEmpty(d,"请选择活动")||r.default.isEmpty(p,"请上传截图")){e.next=14;break}return e.prev=3,t.$toast.loading(),e.next=7,t.$api.liveTranscript.insert((0,o.default)({isLoad:!1},t.form));case 7:t.$toast.success("提交成功"),setTimeout((function(){t.$router.replace({name:"WangIndex"})}),3e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.$toast.clear();case 14:case"end":return e.stop()}}),e,t,[[3,11]])})))()},onActConfirm:function(t){this.showActPicker=!1,this.form.ativiteId=t.id,this.selectedActivity=t},onActCancel:function(){this.showActPicker=!1},selectActivity:function(){var t=this;return(0,n.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.activities.length){e.next=4;break}t.showActPicker=!0,e.next=9;break;case 4:return e.next=6,t.$api.activity.list(t.actPageParams);case 6:e.sent.data.list.forEach((function(e,i){t.activities[i]={text:e.activeName,id:e.activeId}})),t.showActPicker=!0;case 9:case"end":return e.stop()}}),e,t)})))()}})}},QI6s:function(t,e,i){"use strict";i.r(e);var a=i("G+2I"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e.default=n.a},c0iv:function(t,e,i){},"d+tt":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload_component_wrap"},[e("van-row",{staticClass:"upload_images",attrs:{gutter:"10"}},[t._l(t.images,(function(a,n){return e("van-col",{key:n,attrs:{span:"6"}},[e("div",{staticClass:"upload_image"},[e("img",{staticClass:"thumb",attrs:{src:a,alt:""}}),t._v(" "),e("button",{staticClass:"btn_delete",on:{click:function(e){return t.remove(n)}}},[e("img",{attrs:{src:i("qYqz"),alt:""}})])])])})),t._v(" "),t.uploadOptions.multiple||t.images.length<1?e("van-col",{attrs:{span:"6"}},[e("div",{staticClass:"upload_image"},[e("img",{staticClass:"thumb",attrs:{src:i("wIaI"),alt:""},on:{click:function(e){t.showUploadTypePop=!0}}})])]):t._e()],2),t._v(" "),e("UploadTip",{attrs:{uploadOptions:t.uploadOptions,uploadCallback:t.uploadCallback},model:{value:t.showUploadTypePop,callback:function(e){t.showUploadTypePop=e},expression:"showUploadTypePop"}})],1)},n=[]},gdk5:function(t,e,i){"use strict";i.r(e);var a=i("qxqd"),n=i("pDOG");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("zhxq");var l=i("gp09"),s=Object(l.a)(n.default,a.a,a.b,!1,null,null,null);e.default=s.exports},kD8r:function(t,e,i){"use strict";i("c0iv")},pDOG:function(t,e,i){"use strict";i.r(e);var a=i("Puhd"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e.default=n.a},qYqz:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAMFBMVEUAAAB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHj7/s+fAAAAD3RSTlMA7TOlPsrDYdyKIZVtRyey1Y1gAAAAoklEQVQY02MAAZZp8h8zHRiggL3/PxD8KIDwuOL/g8HXBWCu438oEAFr/A8HF4DchQiuHJAbj+B+BRr7HwkUMHAAyXB5IGEDxA0M/kAyQfH//88gI78wzAeSn5nk/xsoAhk/GfKBJJANFAHS3xiAJEh6gyKI/sgAMdIAKAkCaFw0xWhGoVmEcAYTyBlojkTzAqoH0byPFjioQYcWsBjBjhYpACdyCPzKSFhRAAAAAElFTkSuQmCC"},qxqd:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"live_achievement_wrap"},[e("van-nav-bar",{attrs:{title:t.$route.meta.title,"left-arrow":"","right-text":"  ",fixed:""},on:{"click-left":t.onClickLeft}}),t._v(" "),e("van-form",{on:{submit:t.onSubmit}},[e("van-cell",{attrs:{name:"livePlatform","is-link":"",value:t.form.livePlatform},on:{click:function(e){t.showMediaTypePop=!0}}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("em",[t._v("*")]),t._v("直播平台\n\t\t\t")])]),t._v(" "),e("van-field",{attrs:{name:"liveAccount",placeholder:"","input-align":"right"},model:{value:t.form.liveAccount,callback:function(e){t.$set(t.form,"liveAccount",e)},expression:"form.liveAccount"}},[e("div",{attrs:{slot:"label"},slot:"label"},[e("em",[t._v("*")]),t._v("帐号\n\t\t\t")])]),t._v(" "),e("van-field",{attrs:{name:"liveTiming",placeholder:"","input-align":"right"},model:{value:t.form.liveTiming,callback:function(e){t.$set(t.form,"liveTiming",e)},expression:"form.liveTiming"}},[e("div",{attrs:{slot:"label"},slot:"label"},[t._v("链接")])]),t._v(" "),e("van-field",{attrs:{name:"pageView",placeholder:"","input-align":"right",type:"number"},model:{value:t.form.pageView,callback:function(e){t.$set(t.form,"pageView",e)},expression:"form.pageView"}},[e("div",{attrs:{slot:"label"},slot:"label"},[e("em",[t._v("*")]),t._v("浏览量\n\t\t\t")])]),t._v(" "),e("van-field",{attrs:{name:"clickView",placeholder:"","input-align":"right",type:"number"},model:{value:t.form.clickView,callback:function(e){t.$set(t.form,"clickView",e)},expression:"form.clickView"}},[e("div",{attrs:{slot:"label"},slot:"label"},[e("em",[t._v("*")]),t._v("点赞量\n\t\t\t")])]),t._v(" "),e("van-field",{attrs:{name:"commentView",placeholder:"","input-align":"right",type:"number"},model:{value:t.form.commentView,callback:function(e){t.$set(t.form,"commentView",e)},expression:"form.commentView"}},[e("div",{attrs:{slot:"label"},slot:"label"},[e("em",[t._v("*")]),t._v("评论量\n\t\t\t")])]),t._v(" "),e("van-field",{attrs:{name:"exceptionalView",placeholder:"","input-align":"right",type:"number"},model:{value:t.form.exceptionalView,callback:function(e){t.$set(t.form,"exceptionalView",e)},expression:"form.exceptionalView"}},[e("div",{attrs:{slot:"label"},slot:"label"},[e("em",[t._v("*")]),t._v("打赏量\n\t\t\t")])]),t._v(" "),e("van-cell",{attrs:{name:"ativiteId","is-link":"",value:t.selectedActivity.text},on:{click:t.selectActivity}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("em",[t._v("*")]),t._v("活动\n\t\t\t")])]),t._v(" "),e("van-cell",[e("div",{staticClass:"label"},[e("em",[t._v("*")]),t._v("成绩单截图\n\t\t\t")]),t._v(" "),e("div",{staticClass:"uploads"},[e("Upload",{attrs:{options:{interface_type:"img"}},model:{value:t.achievementImages,callback:function(e){t.achievementImages=e},expression:"achievementImages"}})],1)]),t._v(" "),e("div",{staticClass:"bottom_btns"},[e("van-row",{attrs:{gutter:"20"}},[e("van-col",{attrs:{span:"24"}},[e("van-button",{attrs:{type:"info",block:"","native-type":"submit"}},[t._v("提交")])],1)],1)],1)],1),t._v(" "),e("DefaultPop",{attrs:{options:t.mediaTypeOpts},on:{"on-change":t.selectMedia},model:{value:t.showMediaTypePop,callback:function(e){t.showMediaTypePop=e},expression:"showMediaTypePop"}}),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showActPicker,callback:function(e){t.showActPicker=e},expression:"showActPicker"}},[e("van-picker",{attrs:{title:"标题","show-toolbar":"",columns:t.activities},on:{confirm:t.onActConfirm,cancel:t.onActCancel}})],1)],1)},n=[]},wIaI:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAMAAAC93eDPAAAA/FBMVEUAAAALl/4Hlf4GlP7///8Znf7///+d1v/////9/v/3/P8iof7///////87q/4GlP5euv7m9P/D5f+i1/9auP7////e8f9ZuP6k2P////+c1f9qv/7J6P////9MTEwGlP5kZGRsbGz4/P8Klv7o9f88q/7D5f+j2P+Fy/9duf4Smv6f1v9QUFD9/f34+Pjo6OjDw8OQkJBiYmLf39+Hh4dUVFRfX1+9vb2cnJx7e3tbW1vf8v9Jsv7Ozs6hoaGAgIB3d3dpaWnB5P9wwv7s7OylpaXz+v/S7P/J6P+Lzf9Stf7Jycmrq6uVlZW44P81qf4oo/6vr6/t9/97xv4XPUpzAAAAHXRSTlMAWOUHBP7g/ayJV+PYlFj7+PLgrKymppCMXFtVVFpEr64AAALHSURBVHja7dtZVxpBEIbhGlb37HuqG1ExGhaBgAqEyCKLuCb//7+kuhE6h3AOgzJTN/Vc4CWfc3idFg5gRb33idyBPk4jhvUY33q3EYOpL5FGHcPXj3gwFlvf7yOLwd3HGBjryGgdiNdATl8BopE2MqpHorCRRFYND9aQ1+ANJJBZAl4isxxoZPYN9pCZhn1kpgG5ZfgnIBwhNykCpQhDirCkCCJFGFKEJUUQKcKQIiwpgkgRhhRhSRHEfxH5YkUtqVLM+5yAvhTVExRxMf9F0DXIllJLKJnrgD74LoIWlHEp5axSPidonxNauKSWUqssgibs4pJ2lfJbBP8E5J6Q4Z9ARfBP0E+ZcNiI33fqCyYEWsSRNo7bfEUM9Vj8N1cR6bh+NOQqoq4nrriK6LsJXEWk9/SjP2xFdPTYXp2tiN6dtpKM94heh6I4uGW+R+z35B4xX+7k+mewRSySv6Aj6xnTqcktoA08pya3gDS5Tk35czrnj3JNs4GnCLvAvBYvacMlRxH5X3aB0TQbQi3CLRghug3BF5HHf+XMghOcOKMN1wEXUd5VtZP5C9yGQIso1xQ5nS744Rag2/AQUBFuAW1wC5Rb4DZkAyjCLUg9nNvndQtm3SgSTBF2Qas7eWb66a7H7IaAiihU6Rp0p7+9W/Cfolp9EW6BexVe2AXzpYIowi4odV2Lxmmopya7oOD+HpjX5E2op6ZCabrA3Z+zo/D+j2iZBdXCvPvjfK2VF5F1C3xtKGdXXERFGbXUrKqiDc976zPD/wYwFcH8Nrh8HkHkEzpDPqGzpAgiRRhShCVFECnCkCIsKYJIEYYUYUkRRIowpAhLirA0vEJmL2ALmb1m/2IrrsHOFfL6BNHIABllNmMAO23kk773uL/wnv4ARmx7yHQh0rgdgzEv0sHw3TY2N2Aq+nktkdT6EPF7WI/JxFsvCsZfQByT40KyGkAAAAAASUVORK5CYII="},zhxq:function(t,e,i){"use strict";i("KEFt")}}]);