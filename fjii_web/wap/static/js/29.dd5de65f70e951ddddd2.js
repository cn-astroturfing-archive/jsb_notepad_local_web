(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"G+2I":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(a("6ZY3")),s=l(a("3vVk"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{UploadTip:s.default},props:{value:{type:Array,default:function(){return[]}},fromSource:{type:Number,default:function(){return null}},options:{type:Object,defalut:function(){}}},computed:{uploadOptions:function(){var t={multiple:!1,interface_type:"img",form_source:this.fromSource,isMultiUpload:!1};return(0,o.default)({},t,this.options)}},data:function(){return{images:this.value,showUploadTypePop:!1}},watch:{value:function(t){this.images=t},images:function(t){this.$emit("input",t)}},methods:{remove:function(t){this.images.splice(t,1)},uploadCallback:function(t){t.filePath&&t.filePath.match(/^\/files\//)?this.images.push(t.filePath):this.$toast.fail("上传失败, 请重新上传")}}}},Pdp5:function(t,e,a){"use strict";a.r(e);var o=a("d+tt"),s=a("QI6s");for(var l in s)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(l);a("kD8r");var n=a("gp09"),i=Object(n.a)(s.default,o.a,o.b,!1,null,null,null);e.default=i.exports},QI6s:function(t,e,a){"use strict";a.r(e);var o=a("G+2I"),s=a.n(o);for(var l in o)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(l);e.default=s.a},R7L5:function(t,e,a){"use strict";a("cr7Q")},RN3W:function(t,e,a){"use strict";a.r(e);var o=a("y7AK"),s=a("uM/B");for(var l in s)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(l);a("R7L5");var n=a("gp09"),i=Object(n.a)(s.default,o.a,o.b,!1,null,null,null);e.default=i.exports},c0iv:function(t,e,a){},cr7Q:function(t,e,a){},"d+tt":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return s}));var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload_component_wrap"},[e("van-row",{staticClass:"upload_images",attrs:{gutter:"10"}},[t._l(t.images,(function(o,s){return e("van-col",{key:s,attrs:{span:"6"}},[e("div",{staticClass:"upload_image"},[e("img",{staticClass:"thumb",attrs:{src:o,alt:""}}),t._v(" "),e("button",{staticClass:"btn_delete",on:{click:function(e){return t.remove(s)}}},[e("img",{attrs:{src:a("qYqz"),alt:""}})])])])})),t._v(" "),t.uploadOptions.multiple||t.images.length<1?e("van-col",{attrs:{span:"6"}},[e("div",{staticClass:"upload_image"},[e("img",{staticClass:"thumb",attrs:{src:a("wIaI"),alt:""},on:{click:function(e){t.showUploadTypePop=!0}}})])]):t._e()],2),t._v(" "),e("UploadTip",{attrs:{uploadOptions:t.uploadOptions,uploadCallback:t.uploadCallback},model:{value:t.showUploadTypePop,callback:function(e){t.showUploadTypePop=e},expression:"showUploadTypePop"}})],1)},s=[]},kD8r:function(t,e,a){"use strict";a("c0iv")},oCS9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=u(a("cLjf")),s=u(a("bS4n")),l=u(a("hDQ3")),n=u(a("7Qib")),i=(u(a("tI4l")),u(a("Pdp5"))),r=u(a("mF7X"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={components:{DefaultPop:r.default,Upload:i.default},data:function(){return{showSelectPlatformPop:!1,selectPlatformOpts:{title:"选择类型",list:[{label:1,value:"评论"},{label:2,value:"点赞"},{label:3,value:"转发"}],labelInValue:!0,showCancelButton:!1,showConfirmButton:!1},currentPlatform:{},uploadTypeSelected:"",form:{wechatShareId:this.$route.params.id,path:"",type:"",remark:"",sourceType:0},uploadImages:[],uploaded:{comment:0,like:0,foward:0}}},watch:{uploadImages:function(t){t.length>0?this.form.path=t[0]:this.form.path=""}},mounted:function(){var t=this.$route.query.source?this.$route.query.source:"";"快手"==t?this.selectPlatformOpts.list=[{label:1,value:"评论"},{label:2,value:"点赞"}]:"头条号"==t&&(this.selectPlatformOpts.list=[{label:1,value:"评论"}])},methods:{selectPlatformConfirm:function(t){this.currentPlatform=t,this.form.type=t.label},onClickLeft:function(){this.$router.go(-1)},onSubmit:function(){var t=this;return(0,l.default)(o.default.mark((function e(){var a,l,i,r,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.form,l=a.type,i=a.path,n.default.isEmpty(l,"请选择截图类型")||n.default.isEmpty(i,"上传截图")){e.next=13;break}return e.prev=2,delete(r=(0,s.default)({},t.form)).wechatShareId,e.next=7,t.$api.wechatShareTaskCommon.insert((0,s.default)({isLoad:!0,recordFlag:1},r,{wechatShareId:n.default.defaultEncryptRetBase64(t.form.wechatShareId)}));case 7:1==(u=e.sent).code?(t.form={wechatShareId:t.$route.params.id,path:"",type:"",remark:"",sourceType:0},t.currentPlatform={},t.uploadImages=[],t.$toast.success("上传成功"),setTimeout((function(){t.$router.push({name:"UploadDetails",params:{id:t.$route.params.id}})}),1500)):t.$toast.fail(u.message),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,t,[[2,11]])})))()}}}},qYqz:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAMFBMVEUAAAB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHj7/s+fAAAAD3RSTlMA7TOlPsrDYdyKIZVtRyey1Y1gAAAAoklEQVQY02MAAZZp8h8zHRiggL3/PxD8KIDwuOL/g8HXBWCu438oEAFr/A8HF4DchQiuHJAbj+B+BRr7HwkUMHAAyXB5IGEDxA0M/kAyQfH//88gI78wzAeSn5nk/xsoAhk/GfKBJJANFAHS3xiAJEh6gyKI/sgAMdIAKAkCaFw0xWhGoVmEcAYTyBlojkTzAqoH0byPFjioQYcWsBjBjhYpACdyCPzKSFhRAAAAAElFTkSuQmCC"},"uM/B":function(t,e,a){"use strict";a.r(e);var o=a("oCS9"),s=a.n(o);for(var l in o)["default"].indexOf(l)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(l);e.default=s.a},wIaI:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAMAAAC93eDPAAAA/FBMVEUAAAALl/4Hlf4GlP7///8Znf7///+d1v/////9/v/3/P8iof7///////87q/4GlP5euv7m9P/D5f+i1/9auP7////e8f9ZuP6k2P////+c1f9qv/7J6P////9MTEwGlP5kZGRsbGz4/P8Klv7o9f88q/7D5f+j2P+Fy/9duf4Smv6f1v9QUFD9/f34+Pjo6OjDw8OQkJBiYmLf39+Hh4dUVFRfX1+9vb2cnJx7e3tbW1vf8v9Jsv7Ozs6hoaGAgIB3d3dpaWnB5P9wwv7s7OylpaXz+v/S7P/J6P+Lzf9Stf7Jycmrq6uVlZW44P81qf4oo/6vr6/t9/97xv4XPUpzAAAAHXRSTlMAWOUHBP7g/ayJV+PYlFj7+PLgrKymppCMXFtVVFpEr64AAALHSURBVHja7dtZVxpBEIbhGlb37HuqG1ExGhaBgAqEyCKLuCb//7+kuhE6h3AOgzJTN/Vc4CWfc3idFg5gRb33idyBPk4jhvUY33q3EYOpL5FGHcPXj3gwFlvf7yOLwd3HGBjryGgdiNdATl8BopE2MqpHorCRRFYND9aQ1+ANJJBZAl4isxxoZPYN9pCZhn1kpgG5ZfgnIBwhNykCpQhDirCkCCJFGFKEJUUQKcKQIiwpgkgRhhRhSRHEfxH5YkUtqVLM+5yAvhTVExRxMf9F0DXIllJLKJnrgD74LoIWlHEp5axSPidonxNauKSWUqssgibs4pJ2lfJbBP8E5J6Q4Z9ARfBP0E+ZcNiI33fqCyYEWsSRNo7bfEUM9Vj8N1cR6bh+NOQqoq4nrriK6LsJXEWk9/SjP2xFdPTYXp2tiN6dtpKM94heh6I4uGW+R+z35B4xX+7k+mewRSySv6Aj6xnTqcktoA08pya3gDS5Tk35czrnj3JNs4GnCLvAvBYvacMlRxH5X3aB0TQbQi3CLRghug3BF5HHf+XMghOcOKMN1wEXUd5VtZP5C9yGQIso1xQ5nS744Rag2/AQUBFuAW1wC5Rb4DZkAyjCLUg9nNvndQtm3SgSTBF2Qas7eWb66a7H7IaAiihU6Rp0p7+9W/Cfolp9EW6BexVe2AXzpYIowi4odV2Lxmmopya7oOD+HpjX5E2op6ZCabrA3Z+zo/D+j2iZBdXCvPvjfK2VF5F1C3xtKGdXXERFGbXUrKqiDc976zPD/wYwFcH8Nrh8HkHkEzpDPqGzpAgiRRhShCVFECnCkCIsKYJIEYYUYUkRRIowpAhLirA0vEJmL2ALmb1m/2IrrsHOFfL6BNHIABllNmMAO23kk773uL/wnv4ARmx7yHQh0rgdgzEv0sHw3TY2N2Aq+nktkdT6EPF7WI/JxFsvCsZfQByT40KyGkAAAAAASUVORK5CYII="},y7AK:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return s}));var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload_discuss_wrap"},[e("van-nav-bar",{attrs:{title:t.$route.meta.title,"left-arrow":"","right-text":"  ",fixed:""},on:{"click-left":t.onClickLeft}}),t._v(" "),e("div",{staticClass:"form"},[e("div",{staticClass:"row select",on:{click:function(e){t.showSelectPlatformPop=!0}}},[t._m(0),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.currentPlatform.value))]),t._v(" "),e("i",{staticClass:"caret"})]),t._v(" "),e("div",{staticClass:"row2"},[t._m(1),t._v(" "),e("div",{staticClass:"uploads"},[e("Upload",{attrs:{fromSource:1},model:{value:t.uploadImages,callback:function(e){t.uploadImages=e},expression:"uploadImages"}})],1)]),t._v(" "),e("div",{staticClass:"submit_btn",on:{click:t.onSubmit}},[t._v("提交")])]),t._v(" "),e("DefaultPop",{attrs:{options:t.selectPlatformOpts},on:{"on-confirm":t.selectPlatformConfirm},model:{value:t.showSelectPlatformPop,callback:function(e){t.showSelectPlatformPop=e},expression:"showSelectPlatformPop"}})],1)},s=[function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("截图类型")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("上传截图")])}]}}]);