(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+THw":function(t,e,o){"use strict";o.r(e);var i=o("ybhO"),r=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e.default=r.a},"+i2t":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVcAAADICAMAAABrqFIIAAAAY1BMVEUAAACHh4eKioqJiYmKioqKioqKioqKioqKioqLi4uKioqJiYmKioqKioqKioqKioqKioqKioqMjIyKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiooaKQOKAAAAIHRSTlMAQL+A55ZwJMkvVxEGuHryYDkaR7Gr06ROjGf42Z2H3gS1rL8AAAgpSURBVHja7NuJcpswFIXhgxH7jtkx8X3/p+yk7bR2h0WA7Fyl+h4gmfknCOmKwDD+V5FnfYkgwrdkhW7fXm4ZfZnx7tdOml9jfBdx2GbER5WX0F851CNxc3ED6Kx0K35Rf/H7KzRV2oI4q7Qsy73qp9qCZnSo+qktoBFdqn6a9Cmb61P10wf04JJmai3OCj1pp/HAXVyRhjLuWy5Pr6X1LxecFaQtB3xp98Z6VIGrnLQ2gaeANDeAo5jTkPUYluMCn/THcB870TdwZ3cNltK3UIOXjrY1lWO7ofUluiF16ot229jyRhv8lMGVUhROgjbYYOSDVjV87unibqJVgtFtbTDSipvLaw5nVS8ex17z1KmTyR46D6c4tEyk7N6xCH1aJs7FKJyM/sgcC8dZtMxh9FhJbl96HDdc6B9JjqNqDcdvAy3KPLXPQat+j8V4XFxkqvda14TmNRGOSHQ6Fj640YIxwH5FTcsCpdNBfi+sZ426P9hgolWlwnlLB+biTNGD5vW0QcTYKdD4Wj5QMomN7PEFQ3NXi4P2gvD8+CV2xUu+/qh0uy16YtOsLIKk4UZyshJ7RJKj9/AjEaJOua250UKW8OiGVdVWPpRaTryafrsw23u5NKuFhC6hHXzs0crsAD8YH8F8miOwyapfeckzSizSDj1hMzNce+Cs/RtWlZPdq8QMM6RngtfYMDkwfPEc2q+FPGf7J0QN7y1YSnNuqxtWOsI/vTrleBAynxsEOw/hsUvHZJAnaE65cUcTgpNm11tmyOioEtJozgWPEuZ3c+h3vLjC+1s+pylpTopHGffDWCF9MugaOsM6uTYVeNSw/3JvlDseWT7Rm7p2EkvTxP52RshstIKEzrJO3hJFWydFZv8yJXEr5bW0Q22d7GrTjBFPruy/Lku2Xr6RQzskAc52dWjGHc8m7hcJ7frBIO5pB98CTnetpM4VgvlFQr+6i09ph3sHKOh6WXiCnnn0BNzYNAc/uSPJEznwxq6IHb5fmK52zQXJG13gvV2Bzh9//mqf1xF2vWt32zkGfH9XIC6GIeA1IVzvuu8Y4MR4fVfN2HRWWwKmq+qulQeYrqq7XgrAdFXdtbkCpqvqrvcQMF1Vd80GwHRV3jUFTFflXXvAdFXe1YlguirvWnuA6aq6axIApqvqrr4FmK6quzYhYLqq7ipywHRV3TVzAdNVedcUMF2Vd+1jmK7Ku04lYLqq7lp7gOmqumtSAKar6q7+FTBdVXe9hYDpqrqrGADTVXXX0QVMV/VdAdPVdOXIdP3FdNWD6fqL6aqHH+zd3XKiQBCG4VZm+P8V1GiIfvd/lbsxtcEkQ3BwXHu0n5Ocmaq3UIHBHun6Qbr6Qbp+kK5+kK4fHr9rB4OCPMOvawCDHXmGX9cUBjV5hl/XBGD/K3gfu+ZH/NDz/PGbV11p7+E4XR+60pr5jBFfu5LCF4r8w7IraZyJyUM8u57NP6pK8hHTrpTVu0Kp4lDzmkDqfVffSdcT6eoJ6XoiXT0hXU+kqyek64l09YR0PZGunpCuJ0/ZtQ118VamzCYSz+lacuoa4sPGp2M+gFEVsukae7keE2CEqnl0Pfq53B1gVJ8y6KpxruK5M7ddVyBu7921xTvWE58tug6WzX277uHp0myACV1yz6473/aRHrpO2kb361r4+qBWYDE57w5dl75etwW4yCGXri67DkrpepOuqELp6rLrQNXS1WXXQZ9KV5ddB3ErXV12HSwb6eqy66CLpKvLroPtSrq67DrQmXR12XVwkK5Ouw5K6XqTrqhC6eqy60DV0tVl10H/Il0v7hrDQryQrhd2pXYDC8tEun6jYaCIKD3aXYJJ1y/W47th1woWtpl0nZpS09GMjaShc+n6aWMsRP+UsHGY3TVKgzPl598fXQOjsOE2+EFNbAud7WCjnNV1v8G1qo7XCjhM9nRmpWGh2lt3zQpY4z6zKIXJC30RbWFBWXbN4EpAbKxhktA3SQcLdl1jOBMRFwomK/qhWd6oawl33oiJFEZk0sY36RoDj3fAatgMA0x7zJbQiAozMR4LFymYhDSmVpgpJ7MILmliYQejhEblYYU5jjSigUsdcdBMNDDKSsxQjL4cXOIxu2g771t1dXD5Bj3CoZYYaGGW0pRIY4z1a3Zw58jhKfk8htFrRtOaLcZZzcOMXuFMSgxomBV0kcXa6kbXuBRzsB0WXV/92f9S2Jy93j7shhhIMOI1oYulMS6ypl9lGtdTPM4F7O+2zb9zelzRhKjWSzN8szTqwgWHryxKMUZFZCUPFaY09NczrMNol2fWWVDhVyE9R9eowKg+I3vRDr8o6Dm61hv3x1aiMeZAT9H195OjmOZqtmNPbz1D12Z7uwuWtsN3Sq/o8bsmYXHbC5bF2yvOxOGK6MG7RovdBlNUcvW/OcQK7/pOp0TEoWue1MFN6KL/n3fZ8lWT5PQXi65tXGGGB1wccto1wN3xuL522rXB/W2Jo+u63v0jAOiJpT/t3VsOgyAQBVBrfcb4SK3U2ljv/lfZ76YfRQfhQjhLuFHEYQBRrivcY+tzNJDrCPdYbwuR5JrDOdZYRbkqOLaRDgKyXEscE9Zym/lcB+wXYE9TaLlyn1Xr6ziQkd90KflubXBmpZ0IGMj1AUfuZMVMnTnoLWEfYFOKbqY/Csm5ui3sU0vig1myANfAtqzj/RX4lkpK7wtsqp4zRdONllJUIy4V7OingWUvzpERNtmtw9leW/Xm2purp65EpffmUqzpKaa8G8ban1f/x7XtAZVTbB4IjM+PRRRFUeS9D+qTjD5oA5WRAAAAAElFTkSuQmCC"},"/NyI":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkZCNEI2RUJFQkQyMDExRUI4MUNFRDA4OTFDNzhGQzE1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkZCNEI2RUJGQkQyMDExRUI4MUNFRDA4OTFDNzhGQzE1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RkI0QjZFQkNCRDIwMTFFQjgxQ0VEMDg5MUM3OEZDMTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkI0QjZFQkRCRDIwMTFFQjgxQ0VEMDg5MUM3OEZDMTUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6rYM6gAAAESklEQVR42sxZaYhNYRj+5s4dJvvYl8mSfd8JRdn5gYhESkQiSiHxCyXyS8I08QNDspMlS5FBKPu+78vESMNgbON5m+fUa9x7557vnHOvp57Od8+997vPfb/ve7eTUlxcbDyiGtgcbArWB2uClcBy4E+wEMwH34CPwYdgnpcfTLEUnQZ2AnuAHSy+/wC8CF4GPwctuio4DOxOazp4Ct4CX4IfwSLwt8xPi8tnG4AtwTa8L/gFXgcPgS+CEN0ZnEorC96BZ2mxfBd/vALYDewJNlP394BH/RJdEZystsFd8DR4yXhHa4rvpVZsC1fMWrQcqnlgBl/ngLnGf4hBpqtVXA9etREte3ABmE4LyPLdM8FBDDOeBzym8GiixY0tBctzqZaZxEEs3pXjtTyofyEU5aAsouAn4AqTWGSrLTgLrBeP6Ol0bXkU/MMkHjl0oYLZZYluzxMt2GCSiyxG0xrguGiiJQDMUP/0eZJFfwdXcjxAGfMv0SPAMD1Frvk/kMdQLxhUWrRce3O83/xf2K8CUW0tuh0dewF422JiCfHLwbnOxD7iLaOvaB2sRffn9bjFpBV4FuTAtAKXgKPB6j4KP8KrJGppIf6os8nPWExYPYJHGsLgNNgn0S+4vyU6t5EfaKve+GIx4c8YOfcYcCGLBK9wQnp7Ed2CLy4HdJCaMOmaD9bxMM9rXhuJ6Lp88SpgL9CM+31klEhcFgp5TQ+r0/4xAe5LKpbhzKFz1QGLB06hUSXEzR1rbwYB8TSjwIkuvuPUkuVDzOYMa7pEoy+9VzxwEreUkLJwShJES37zLc7PpjoD2dNf6Z5SEyhWDHUe3OtihSs6iZSI/iCbG6ycIMH3wU3ge4tzIPgUZuenMbtDtwMUK6f/IHjO8vtOn+Wr7OlHqgAIArL8O8DFHgRrS78JK+u25L7+5XKycIz3blHwWx/+fDtnzjCXTU5xQzp9t9YoiHBPmoz7TEnPzg/UZESV1sEVJ5yeVmWNsRB9jGOZdCu4ykfBgn683hAX6Syt9OMmgJmSkIDPXE66G7xJj5Dv85mopvL9g7oIKFJ7e6jl5PcCECwYyHPz0jGmzrZ28dpFV75JhoT4PhwfjlSNi7/eyfEcFYGSibkUfteoLm3pvPYEyxq5PzXJgsfRo0k1lR2rwyRYw6uUYdOSJHig8mRZqgCIKlo6/Os4lo79pAQLFk8xVu3jf9rLsfrTHcGZHF8BN1sWvm4wllYWbAdPRix/yngSIKFztgoiq00ZjxY8+GLp1jbl6wOm5OGRsRFtGHCmmJInA4Zh/pRFAIqEDO5diXjluJIbGaiMF9GRls4wiT9jGa4z2S3SgewauC2eAtvtc8QOTKq6qXvSerjDvkQBi4pPrOlSWVxksNCoxWxSN2/EB19wk6jZPrFtwKK0h4vCtDQuso1w33UfwuOz8TRavwUDQSVaNl0VykW0fCGjroi8zntW+CPAANBhBf5RJ2QcAAAAAElFTkSuQmCC"},"/vek":function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t._self._c;return e("van-popup",{style:{height:"100%"},attrs:{position:"top","get-container":"body"},model:{value:t.showCropper,callback:function(e){t.showCropper=e},expression:"showCropper"}},[e("div",{staticClass:"height100"},[e("vueCropper",{ref:"cropper",attrs:{img:t.base64Image,outputSize:t.option.outputSize,outputType:t.option.outputType,info:t.option.info,full:t.option.full,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,canMove:t.option.canMove,canMoveBox:t.option.canMoveBox,original:t.option.original,autoCrop:t.option.autoCrop,fixed:t.option.fixed,fixedNumber:t.option.fixedNumber,centerBox:t.option.centerBox,infoTrue:t.option.infoTrue,fixedBox:t.option.fixedBox,high:t.option.high,mode:t.option.mode}}),t._v(" "),e("van-col",{staticClass:"operate-area",attrs:{span:"24"}},[e("van-col",{staticClass:"text-center",attrs:{span:"8"}},[e("span",{on:{click:t.cancelCropper}},[t._v("取消")])]),t._v(" "),e("van-col",{staticClass:"text-center",attrs:{span:"8"}},[e("span",{on:{click:t.rotateImage}},[e("van-icon",{attrs:{name:"replay"}})],1)]),t._v(" "),e("van-col",{staticClass:"text-center",attrs:{span:"8"}},[e("span",{on:{click:t.getCropBlob}},[t._v("确定")])])],1)],1)])},r=[]},"4eTk":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=v(o("6ZY3")),r=v(o("YReu")),a=v(o("unDg")),n=v(o("cLjf")),s=v(o("hDQ3")),c=v(o("bS4n")),l=o("dzbt"),u=v(o("tI4l")),p=v(o("7Qib")),h=v(o("mF7X")),d=v(o("kJQY")),f=v(o("OKXd")),m=v(o("3vVk"));function v(t){return t&&t.__esModule?t:{default:t}}e.default={components:{DefaultPop:h.default,UploadTip:m.default,CustomVideo:d.default,CroperImagePlug:f.default},computed:(0,c.default)({},(0,l.mapGetters)(["permissions"]),{pubToutiaoPermission:function(){return this.permissions.includes("task:toutiao")},pubSquarePermission:function(){return this.permissions.includes("task:square")},uploadOptions:function(){var t=this.prepareUploadFileTypeStr;return{interface_type:1===this.form.releaseType&&"videoCover"!=t?"video":"img",form_source:2,isMultiUpload:!1}}}),data:function(){return{disabledSubmitBtn:!1,prepareUploadFileTypeStr:"",showUploadTypePop:!1,showCropper:!1,squareCrop:!1,base64Image:"",processing:!1,origin:window.location.origin,showCascader:!1,cascaderList:[],activity:!1,top:!1,publishToSquare:!1,publishToToutiao:!1,publishToLocal:!1,publishToVideo:!1,groupActivity:!1,regionActivity:!1,form:{secondaryColumn:"",wechatArticleUrl:"",title:"",source:"",isType:3,coverImg:"",isTop:0,topDays:"",isAct:"",actId:"",releaseType:0,videoPath:"",isLocalAct:"",videoSourcePath:"",digest:"",recommendWords:"",remark:""},typeValue:"分享",releaseType:"文章",showDefaultPop:!1,defaultPopOpts:{},taskType:u.default.taskType,showReason:!1,info:{},selectedLocal:{},activities:[],actPageParams:{pageSize:100,pageNo:1},locals:[],defautPopType:"release",releaseTypes:u.default.releaseType,pickerType:"",showSecondaryColumn4SquarePicker:!1,secondaryColumn4SquareList:[],secondaryColumn4Square:"v02",showSecondaryColumn4ToutiaoPicker:!1,secondaryColumn4ToutiaoList:[],secondaryColumn4Toutiao:"v03",showSecondaryColumn4VideoPicker:!1,secondaryColumn4VideoList:[],secondaryColumn4Video:"v01",showGroupActivityPicker:!1,groupActivityList:[],selectedGroupActivityId:"",showRegionActivityPicker:!1,regionActivityList:[],selectedRegionActivityId:"",showCompanyPicker:!1,columns:[],isLocalRole:!1,sourceImgUrl:""}},filters:{formatSecondaryColumn:function(t,e,o){if(!t)return"square"==e?"默认滚动栏目":"默认推荐栏目";var i=o.filter((function(e){return e.id==t}));return i.length>0?i[0].text:void 0},formatActivityColumn:function(t,e){if(!t)return"请选择关联活动";var o=e.filter((function(e){return e.id==t}));return o.length>0?o[0].text:void 0}},watch:{"form.releaseType":{handler:function(t){this.publishToVideo=1===t}}},mounted:function(){this.loadJtActivityList(),this.loadDqActivityList(),this.loadSecondaryColumnData(),this.isLocalublish(),this.$route.params.id&&this.getTaskDetails()},methods:{videoCut:function(){var t,e=this,o=this.$refs.video.$refs.video,i=document.createElement("canvas"),r=o.videoWidth,a=o.videoHeight;i.width=r,i.height=a,i.getContext("2d").drawImage(o,0,0,r,a),i.toBlob((t=(0,s.default)(n.default.mark((function t(o){var i,r,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=7;break}return i=new File([o],e.form.title?e.form.title+"封面图.png":new Date(Date.now()-6048e5).toString()+"封面图.png",{type:"image/png"}),r={type:"img",formSource:2,file:i},t.next=5,e.$api.upload.upload(r);case 5:1==(a=t.sent).code?e.fetchCroperResult(a.data.filePath):e.$toast.fail("视频截图上传失败");case 7:case"end":return t.stop()}}),t,e)}))),function(e){return t.apply(this,arguments)}),"image/png",1)},doCrop:function(){var t=this;this.sourceImgUrl=this.form.coverImg;var e=new Image,o="";e.src=this.sourceImgUrl,e.onload=function(){var i=document.createElement("canvas"),r=e.width,a=e.height;i.width=r,i.height=a,i.getContext("2d").drawImage(e,0,0,r,a),o=i.toDataURL("image/jpeg"),0==t.form.releaseType?t.squareCrop=!0:t.squareCrop=!1,t.showCropper=!0,t.base64Image=o}},cancelCroper:function(){this.showCropper=!1,this.base64Image=""},fetchCroperResult:function(t){this.showCropper=!1,this.form.coverImg=t},loadJtActivityList:function(t){var e=this;this.$api.activity.jtValidityActiveList({isLoad:!1}).then((function(o){var i=o.data.map((function(t){return{text:t.activeShortName,id:t.actId}}));e.groupActivityList=i,t&&"function"==typeof t&&t(i)}))},loadDqActivityList:function(t){var e=this;this.$api.activity.dqValidityActiveList({isLoad:!1}).then((function(o){var i=o.data.map((function(t){return{text:t.activeShortName,id:t.actId}}));e.regionActivityList=i,t&&"function"==typeof t&&t(i)}))},loadSecondaryColumnData:function(){var t=this;this.$api.secondaryColumn.findAllSecondaryColumn({isLoad:!1,serviceId:3,enableState:1}).then((function(e){var o=e.data.list.map((function(t){return{text:t.twoName,id:t.id}}));t.secondaryColumn4SquareList=[{id:"v02",text:"滚动"}].concat((0,a.default)(o))})),this.$api.secondaryColumn.findAllSecondaryColumn({isLoad:!1,serviceId:1,enableState:1}).then((function(e){var o=e.data.list.map((function(t){return{text:t.twoName,id:t.id}}));t.secondaryColumn4ToutiaoList=[{id:"v03",text:"推荐"}].concat((0,a.default)(o))})),this.$api.secondaryColumn.findAllSecondaryColumn({isLoad:!1,serviceId:4,enableState:1}).then((function(e){var o=e.data.list.map((function(t){return{text:t.twoName,id:t.id}}));t.secondaryColumn4VideoList=[{id:"v01",text:"推荐"}].concat((0,a.default)(o))}))},toggleSecondaryColumn4SquareSelect:function(){this.pickerType="secondaryColumn4Square",this.showSecondaryColumn4SquarePicker=!0},toggleSecondaryColumn4ToutiaoSelect:function(){this.pickerType="secondaryColumn4Toutiao",this.showSecondaryColumn4ToutiaoPicker=!0},toggleSecondaryColumn4VideoSelect:function(){this.pickerType="secondaryColumn4Video",this.showSecondaryColumn4VideoPicker=!0},toggleLocal:function(t){var e=this;return(0,s.default)(n.default.mark((function t(){var o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.pickerType="local",!e.locals.length){t.next=5;break}e.columns=e.locals,t.next=9;break;case 5:return t.next=7,e.$api.org.queryCompanyList();case 7:(o=t.sent).data.dataList?(o.data.dataList.forEach((function(t,o){e.locals[o]={text:t.name,id:t.id}})),e.columns=e.locals,o.data.id&&(e.selectedLocal={text:o.data.name,id:o.data.id})):o.data.name?(e.locals[0]={text:o.data.name,id:o.data.id},e.columns=e.locals,e.selectedLocal={text:o.data.name,id:o.data.id}):e.columns=[];case 9:case"end":return t.stop()}}),t,e)})))()},changeGroupActivity:function(t){var e=this;if(t&&!this.selectedGroupActivityId){var o=function(t){t&&t.length>0&&(e.selectedGroupActivityId=t[0].id)};this.groupActivityList&&this.groupActivityList.length>0?o(this.groupActivityList):this.loadJtActivityList(o)}else t||(this.selectedGroupActivityId="")},changeRegionActivity:function(t){var e=this;if(t&&!this.selectedRegionActivityId){var o=function(t){t&&t.length>0&&(e.selectedRegionActivityId=t[0].id)};this.regionActivityList&&this.regionActivityList.length>0?o(this.regionActivityList):this.loadDqActivityList(o)}else t||(this.selectedRegionActivityId="")},toggleGroupActivitySelect:function(){this.pickerType="groupActivity",this.showGroupActivityPicker=!0},toggleRegionActivitySelect:function(){this.pickerType="regionActivity",this.showRegionActivityPicker=!0},resetArticle:function(){this.form.title="",this.form.coverImg="",this.form.source=""},setTaskType:function(){this.defautPopType="task";var t=[];for(var e in u.default.taskType)u.default.taskType.hasOwnProperty(e)&&"3"===e&&t.push({label:e,value:u.default.taskType[e]});this.defaultPopOpts={title:"选择类型",labelInValue:!0,list:t,showCancelButton:!1,showConfirmButton:!1},this.showDefaultPop=!0},setReleaseType:function(){this.defautPopType="release",this.defaultPopOpts={title:"选择类型",labelInValue:!0,list:u.default.releaseType,showCancelButton:!1,showConfirmButton:!1},this.showDefaultPop=!0},videotype:function(){var t=[];t.push({label:"抖音",value:"抖音"},{label:"快手",value:"快手"},{label:"微视",value:"微视"},{label:"视频号",value:"视频号"},{label:"头条号",value:"头条号"},{label:"B站",value:"B站"}),this.defautPopType="videosou",this.defaultPopOpts={title:"选择类型",labelInValue:!0,list:t,showCancelButton:!1,showConfirmButton:!1},this.showDefaultPop=!0},beforeClose:function(t,e){"confirm"===t?this.onSubmit("false",e):e()},onSubmit:function(t,e){var o=this;return(0,s.default)(n.default.mark((function i(){return n.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o.disabledSubmitBtn=!0,i.prev=1,!o.$route.params.id){i.next=7;break}return i.next=5,o.updateTask(t,e);case 5:i.next=9;break;case 7:return i.next=9,o.publishTask();case 9:i.next=13;break;case 11:i.prev=11,i.t0=i.catch(1);case 13:o.disabledSubmitBtn=!1,o.processing=!1;case 15:case"end":return i.stop()}}),i,o,[[1,11]])})))()},onClickLeft:function(){this.$router.go(-1)},isLocalublish:function(){var t=this;return(0,s.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.base.isLocalublish();case 2:"1"==e.sent.message?(t.isLocalRole=!0,t.publishToLocal=!0):(t.isLocalRole=!1,t.publishToLocal=!1);case 4:case"end":return e.stop()}}),e,t)})))()},dateConfirm:function(){},publishTask:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var o,i,r,a,s,c,l,u,h,d,f,m,v,g,y,C;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.processing){e.next=3;break}return t.$toast.fail("请勿重复提交"),e.abrupt("return");case 3:return t.processing=!0,o=[],i=["","",""],t.publishToToutiao&&(o.push(1),i[0]=t.secondaryColumn4Toutiao||"v03"),t.publishToLocal&&o.push(2),t.publishToSquare&&(o.push(3),i[2]=t.secondaryColumn4Square||"v02"),t.publishToVideo&&(o.push(4),i[4]=t.secondaryColumn4Video||"v01"),t.form.serviceId=o.join(","),t.form.secondaryColumn=i.join(",")+",",r=t.form,a=r.wechatArticleUrl,s=r.title,c=r.shortTitle,l=r.source,u=r.digest,h=r.coverImg,d=r.topDays,f=r.releaseType,m=r.videoPath,v=r.serviceId,g=r.videoSourcePath,e.next=15,t.$api.base.checkSensitiveWord({isLoad:!1,type:1,content:""+(u||"")+s});case 15:if(0!==(y=e.sent).code){e.next=19;break}return t.processing=!1,e.abrupt("return",t.$toast.fail(y.message));case 19:if(0!==f){e.next=39;break}if(p.default.isEmpty(f,"请选择发布类型")||p.default.isEmpty(a,"请输入文章链接")||p.default.isEmpty(s,"请输入文章标题")||p.default.isEmpty(l,"请输入文章来源")||p.default.isEmpty(t.typeValue,"请选择任务类型")||p.default.isEmpty(h,"请获取缩略图")||p.default.isEmpty(v,"请至少选择一项发布到头条，地方，广场")){e.next=36;break}if(!(t.top&&d<1)){e.next=23;break}return e.abrupt("return",t.$toast.fail("请输入置顶天数"));case 23:if(!t.top||d.match(/^[1-9]\d*$/)){e.next=25;break}return e.abrupt("return",t.$toast.fail("请输入整数"));case 25:if(!t.publishToLocal||t.selectedLocal.id){e.next=27;break}return e.abrupt("return",t.$toast.fail("请选择地方信息"));case 27:if(!t.isEmojiCharacter(s)){e.next=29;break}return e.abrupt("return",t.$toast.fail("标题存特殊符号请删除后重试"));case 29:t.form.isTop=t.top?1:0,t.form.isAct=t.groupActivity||t.regionActivity?1:0,t.form.isLocalAct=t.regionActivity?1:0,t.groupActivity?t.form.actId=t.selectedGroupActivityId:t.regionActivity&&(t.form.actId=t.selectedRegionActivityId),t.form.companyId=t.publishToLocal?t.selectedLocal.id:"",e.next=37;break;case 36:return e.abrupt("return");case 37:e.next=56;break;case 39:if(p.default.isEmpty(f,"请选择发布类型")||p.default.isEmpty(l,"请输入视频来源")||p.default.isEmpty(s,"请输入视频标题")||p.default.isEmpty(c,"请输入视频短标题")||p.default.isEmpty(m,"请上传视频")||p.default.isEmpty(v,"请至少选择一项发布到头条，地方，广场")){e.next=55;break}if("抖音"!=l&&"快手"!=l||!(g.length<1)){e.next=42;break}return e.abrupt("return",t.$toast.fail("请输入视频路径"));case 42:if(!(t.top&&d<1)){e.next=44;break}return e.abrupt("return",t.$toast.fail("请输入置顶天数"));case 44:if(!t.publishToLocal||t.selectedLocal.id){e.next=46;break}return e.abrupt("return",t.$toast.fail("请选择地方信息"));case 46:if(!t.isEmojiCharacter(t.form.title)){e.next=48;break}return e.abrupt("return",t.$toast.fail("标题存特殊符号请删除后重试"));case 48:t.form.isTop=t.top?1:0,t.form.isAct=t.groupActivity||t.regionActivity?1:0,t.form.isLocalAct=t.regionActivity?1:0,t.groupActivity?t.form.actId=t.selectedGroupActivityId:t.regionActivity&&(t.form.actId=t.selectedRegionActivityId),t.form.companyId=t.publishToLocal?t.selectedLocal.id:"",e.next=56;break;case 55:return e.abrupt("return");case 56:return e.next=58,t.$api.task.insert(t.form);case 58:if(1!=(C=e.sent).code){e.next=66;break}return t.$toast.success("发布成功"),e.next=63,p.default.sleepFun(1200);case 63:t.$router.push({name:"MyPublish"}),e.next=67;break;case 66:t.$toast.failure(C.message);case 67:case"end":return e.stop()}}),e,t)})))()},updateTask:function(t,e){var o=this;return(0,s.default)(n.default.mark((function a(){var s,c,l,u,h,d,f,m,v,g,y,C,w,b,x,A,k,S,I,T,L,E,O;return n.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("false"!==t){a.next=17;break}if(!p.default.isEmpty(o.info.reason,"请输入作废原因")){a.next=6;break}return e(!1),a.abrupt("return",!1);case 6:if(s=o.form,s.updateTime,s.createTime,c=(0,r.default)(s,["updateTime","createTime"]),l=(0,r.default)(o.info,[]),o.info=(0,i.default)({passStr:t},l,window.updateInfos),!o.isEmojiCharacter(o.form.title)){a.next=11;break}return a.abrupt("return",o.$toast.fail("标题存特殊符号请删除后重试"));case 11:return a.next=13,o.$api.task.update({info:o.info,wechatShareTask:c});case 13:a.sent,"function"==typeof e&&(o.form.reason="",e(),o.$router.go(-1));case 15:a.next=72;break;case 17:return u=[],h=["","",""],o.publishToToutiao&&(u.push(1),h[0]=o.secondaryColumn4Toutiao),o.publishToLocal&&u.push(2),o.publishToSquare&&(u.push(3),h[2]=o.secondaryColumn4Square),o.publishToVideo&&(u.push(4),h[3]=o.secondaryColumn4Video),o.form.serviceId=u.join(","),o.form.secondaryColumn=h.join(",")+",",d=o.form,f=d.wechatArticleUrl,m=d.title,v=d.shortTitle,g=d.source,y=d.digest,C=d.coverImg,w=d.releaseType,b=d.videoPath,x=d.topDays,A=d.serviceId,a.next=28,o.$api.base.checkSensitiveWord({isLoad:!1,type:1,content:""+(y||"")+m});case 28:if(0!==(k=a.sent).code){a.next=31;break}return a.abrupt("return",o.$toast.fail(k.message));case 31:if(0!==w){a.next=55;break}if(p.default.isEmpty(f,"请输入文章链接")||p.default.isEmpty(m,"请输入文章标题")||p.default.isEmpty(g,"请输入文章来源")||p.default.isEmpty(o.typeValue,"请选择任务类型")||p.default.isEmpty(C,"请获取缩略图")||p.default.isEmpty(A,"请至少选择一项发布到头条，地方，广场")){a.next=53;break}if(!(o.top&&x<1)){a.next=35;break}return a.abrupt("return",o.$toast.fail("请输入置顶天数"));case 35:if(!o.groupActivity||o.selectedGroupActivityId){a.next=37;break}return a.abrupt("return",o.$toast.fail("请选择集团活动"));case 37:if(!o.regionActivity||o.selectedRegionActivityId){a.next=39;break}return a.abrupt("return",o.$toast.fail("请选择地方活动"));case 39:if(!o.isEmojiCharacter(o.form.title)){a.next=41;break}return a.abrupt("return",o.$toast.fail("标题存特殊符号请删除后重试"));case 41:return o.form.isTop=o.top?1:0,o.form.isAct=o.groupActivity||o.regionActivity?1:0,o.form.isLocalAct=o.regionActivity?1:0,o.groupActivity?o.form.actId=o.selectedGroupActivityId:o.regionActivity&&(o.form.actId=o.selectedRegionActivityId),o.form.companyId=o.publishToLocal?o.selectedLocal.id:"",S=o.form,S.updateTime,S.createTime,I=(0,r.default)(S,["updateTime","createTime"]),T=(0,r.default)(o.info,[]),o.info=(0,i.default)({passStr:t},T,window.updateInfos),a.next=51,o.$api.task.update({info:o.info,wechatShareTask:I});case 51:a.sent,o.$router.go(-1);case 53:a.next=72;break;case 55:if(p.default.isEmpty(m,"请输入视频标题")||p.default.isEmpty(v,"请输入视频短标题")||p.default.isEmpty(b,"请上传视频")||p.default.isEmpty(A,"请至少选择一项发布到头条，地方，广场")){a.next=72;break}if(!(o.top&&x<1)){a.next=58;break}return a.abrupt("return",o.$toast.fail("请输入置顶天数"));case 58:if(!o.isEmojiCharacter(o.form.title)){a.next=60;break}return a.abrupt("return",o.$toast.fail("标题存特殊符号请删除后重试"));case 60:return o.form.isTop=o.top?1:0,o.form.isAct=o.groupActivity||o.regionActivity?1:0,o.form.isLocalAct=o.regionActivity?1:0,o.groupActivity?o.form.actId=o.selectedGroupActivityId:o.regionActivity&&(o.form.actId=o.selectedRegionActivityId),o.form.companyId=o.publishToLocal?o.selectedLocal.id:"",L=o.form,L.updateTime,L.createTime,E=(0,r.default)(L,["updateTime","createTime"]),O=(0,r.default)(o.info,[]),o.info=(0,i.default)({passStr:t},O,window.updateInfos),a.next=70,o.$api.task.update({info:o.info,wechatShareTask:E});case 70:a.sent,o.$router.go(-1);case 72:case"end":return a.stop()}}),a,o)})))()},getTaskDetails:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var o,i,r,a,s,c,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.task.getDetail({id:t.$route.params.id});case 2:if(o=e.sent,t.form=o.data,t.top=0!==t.form.isTop,t.form.isAct&&(t.groupActivity=!t.form.isLocalAct,t.regionActivity=!!t.form.isLocalAct),t.typeValue=t.taskType[t.form.isType],t.releaseType=t.releaseTypes[t.form.releaseType].value,!((i=o.data.taskColumnRelations)&&i.length>0)){e.next=33;break}r=0;case 11:if(!(r<i.length)){e.next=33;break}a=i[r],s=a.column1,c=a.column2,e.t0=s,e.next=1===e.t0?18:2===e.t0?21:3===e.t0?23:4===e.t0?26:29;break;case 18:return t.publishToToutiao=!0,t.secondaryColumn4Toutiao=c,e.abrupt("break",30);case 21:return t.publishToLocal=!0,e.abrupt("break",30);case 23:return t.publishToSquare=!0,t.secondaryColumn4Square=c,e.abrupt("break",30);case 26:return t.publishToVideo=!0,t.secondaryColumn4Video=c,e.abrupt("break",30);case 29:return e.abrupt("break",30);case 30:r++,e.next=11;break;case 33:return e.next=35,t.$api.org.queryCompanyList(t.actPageParams);case 35:(l=e.sent).data.dataList&&l.data.dataList.forEach((function(e,o){t.locals[o]={text:e.name,id:e.id},t.form.companyId===e.id&&(t.selectedLocal={text:e.name,id:e.id})}));case 37:case"end":return e.stop()}}),e,t)})))()},getArticleDetails:function(){var t=this;return(0,s.default)(n.default.mark((function e(){var o;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===t.form.wechatArticleUrl.indexOf("weixin.qq.com")||-1===t.form.wechatArticleUrl.indexOf("signature=")&&-1===t.form.wechatArticleUrl.indexOf("?")){e.next=2;break}return e.abrupt("return",t.$toast.fail("请在微信中打开文章，复制永久地址后贴入"));case 2:if(p.default.isEmpty(t.form.wechatArticleUrl,"请输入文章链接")){e.next=15;break}return e.next=5,t.$api.task.getInfoBySrc({isLoad:!1,src:t.form.wechatArticleUrl});case 5:if(1==(o=e.sent).code){e.next=8;break}return e.abrupt("return",t.$toast.fail(o.message));case 8:""===o.data.title&&t.$toast.fail("标题获取失败,请手动输入"),""===o.data.source&&t.$toast.fail("来源获取失败,请手动输入"),o.data.weiboArticleId?t.form.weiboArticleId=o.data.weiboArticleId:t.form.weiboArticleId="",t.form.title=o.data.title,t.form.coverImg=o.data.cover_img,t.form.source=o.data.source,t.form.digest=o.data.digest?o.data.digest:"";case 15:case"end":return e.stop()}}),e,t)})))()},defaultPopConfirm:function(t){"release"===this.defautPopType?(this.form.releaseType=t.label,this.releaseType=t.value):"task"===this.defautPopType?(this.form.isType=t.label,this.typeValue=t.value):this.form.source=t.label,this.showDefaultPop=!1},isEmojiCharacter:function(t){if(/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi.test(t))return!0;for(var e=0;e<t.length;e++){var o=t.charCodeAt(e);if(55296<=o&&o<=56319){if(t.length>1){var i=1024*(o-55296)+(t.charCodeAt(e+1)-56320)+65536;if(118784<=i&&i<=128895)return!0}}else if(t.length>1){if(8419==t.charCodeAt(e+1))return!0}else{if(8448<=o&&o<=10239)return!0;if(11013<=o&&o<=11015)return!0;if(10548<=o&&o<=10549)return!0;if(12951<=o&&o<=12953)return!0;if(169==o||174==o||12349==o||12336==o||11093==o||11036==o||11035==o||11088==o)return!0}}},onActConfirm:function(t){"local"===this.pickerType?(this.publishToLocal=!!t,this.showCompanyPicker=!1,this.selectedLocal=t):"secondaryColumn4Square"===this.pickerType?(this.publishToSquare=!!t,this.showSecondaryColumn4SquarePicker=!1,this.secondaryColumn4Square=t?t.id:"v02"):"secondaryColumn4Toutiao"===this.pickerType?(this.publishToToutiao=!!t,this.showSecondaryColumn4ToutiaoPicker=!1,this.secondaryColumn4Toutiao=t?t.id:"v03"):"secondaryColumn4Video"===this.pickerType?(this.publishToVideo=!!t,this.showSecondaryColumn4VideoPicker=!1,this.secondaryColumn4Video=t?t.id:"v01"):"groupActivity"===this.pickerType?(this.groupActivity=!!t,this.showGroupActivityPicker=!1,this.selectedGroupActivityId=t?t.id:""):"regionActivity"===this.pickerType&&(this.regionActivity=!!t,this.showRegionActivityPicker=!1,this.selectedRegionActivityId=t?t.id:"")},onActCancel:function(){"local"===this.pickerType?(this.publishToLocal=!1,this.showCompanyPicker=!1,this.selectedLocal={}):"secondaryColumn4Square"===this.pickerType?(this.showSecondaryColumn4SquarePicker=!1,this.secondaryColumn4Square="v02",this.publishToSquare=!1):"secondaryColumn4Toutiao"===this.pickerType?(this.publishToToutiao=!1,this.showSecondaryColumn4ToutiaoPicker=!1,this.secondaryColumn4Toutiao="v03"):"secondaryColumn4Video"===this.pickerType?(this.publishToVideo=!1,this.showSecondaryColumn4VideoPicker=!1,this.secondaryColumn4Video="v01"):"groupActivity"===this.pickerType?(this.groupActivity=!1,this.showGroupActivityPicker=!1,this.selectedGroupActivityId=""):"regionActivity"===this.pickerType&&(this.regionActivity=!1,this.showRegionActivityPicker=!1,this.selectedRegionActivityId="")},selectLocal:function(){var t=this;return(0,s.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pickerType="local",!t.locals.length){e.next=6;break}t.showCompanyPicker=!0,t.columns=t.locals,e.next=12;break;case 6:return e.next=8,t.$api.org.queryCompanyList({pageSize:100,pageNo:1});case 8:e.sent.data.dataList.forEach((function(e,o){t.locals[o]={text:e.name,id:e.id}})),t.showCompanyPicker=!0,t.columns=t.locals;case 12:case"end":return e.stop()}}),e,t)})))()},uploadFile:function(t){this.prepareUploadFileTypeStr=t,this.showUploadTypePop=!0},uploadCallback:function(t){t.filePath?(1===this.form.releaseType?extractType&&"videoCover"==extractType?this.form.coverImg=t.filePath:(this.form.videoPath=t.filePath,this.form.storagePath=t.videoImgPath,this.form.coverImg=t.videoImgPath):this.form.coverImg=t.filePath,this.sourceImgUrl=this.form.coverImg):this.$toast.fail("上传失败, 请重新上传")},removeVideoUpload:function(){var t=this;return(0,s.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$dialog.confirm({title:"确定删除吗"}).then((function(){t.form.videoPath=""}));case 1:case"end":return e.stop()}}),e,t)})))()},removeUpload:function(){var t=this;return(0,s.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$dialog.confirm({title:"确定删除吗"}).then((function(){t.form.coverImg="",t.sourceImgUrl=""}));case 1:case"end":return e.stop()}}),e,t)})))()}}}},EWg4:function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"publish_task_wrap"},[e("van-nav-bar",{attrs:{title:t.$route.params.id?"修改任务":t.$route.meta.title,"left-arrow":"","right-text":"  ",fixed:""},on:{"click-left":t.onClickLeft}}),t._v(" "),e("div",{staticClass:"main_wrap"},[2==t.form.auditState?e("van-notice-bar",{attrs:{color:"#1989fa",background:"#ecf9ff","left-icon":"info-o",mode:"closeable",wrapable:"",scrollable:!1}},[t._v("驳回原因: "+t._s(t.form.rejectReason))]):t._e(),t._v(" "),e("div",{staticClass:"form"},[e("div",{staticClass:"row select",on:{click:t.setReleaseType}},[t._m(0),t._v(" "),e("span",{staticClass:"text",class:{gray:!t.releaseType}},[t._v("\n\t\t\t\t\t"+t._s(t.releaseType||"请选择类型")+"\n\t\t\t\t")]),t._v(" "),e("i",{staticClass:"caret"})]),t._v(" "),1!==t.form.releaseType?e("div",{staticClass:"row"},[t._m(1),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.wechatArticleUrl,expression:"form.wechatArticleUrl"}],staticClass:"task_name",attrs:{type:"text",autoHeight:"true",rows:"2",placeholder:"请粘贴文章地址"},domProps:{value:t.form.wechatArticleUrl},on:{input:[function(e){e.target.composing||t.$set(t.form,"wechatArticleUrl",e.target.value)},t.resetArticle]}})]):t._e(),t._v(" "),1!==t.form.releaseType?e("div",{staticClass:"row"},[t._m(2),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"task_name",attrs:{type:"text",autoHeight:"true",rows:"2"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text link",on:{click:t.getArticleDetails}},[t._v("一键获取")])]):t._e(),t._v(" "),1!==t.form.releaseType?e("div",{staticClass:"row"},[e("div",{staticClass:"label"},[t._v("\n\t\t\t\t\t分享摘要\n\t\t\t\t")]),t._v(" "),e("van-field",{attrs:{rows:"2",autosize:"",label:"",type:"textarea",maxlength:"30",placeholder:"分享到微信，卡片信息携带的内容","show-word-limit":""},model:{value:t.form.digest,callback:function(e){t.$set(t.form,"digest",e)},expression:"form.digest"}})],1):t._e(),t._v(" "),1!==t.form.releaseType?e("div",{staticClass:"row"},[e("div",{staticClass:"label"},[t._v("\n\t\t\t\t\t分享推荐语\n\t\t\t\t")]),t._v(" "),e("van-field",{attrs:{rows:"2",autosize:"",label:"",type:"textarea",maxlength:"40",placeholder:"分享时，推荐用户复制此段话作为文案","show-word-limit":""},model:{value:t.form.recommendWords,callback:function(e){t.$set(t.form,"recommendWords",e)},expression:"form.recommendWords"}})],1):t._e(),t._v(" "),1!==t.form.releaseType?e("div",{staticClass:"row"},[t._m(3),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.source,expression:"form.source"}],staticClass:"task_name",attrs:{type:"text",autoHeight:"true",rows:"2"},domProps:{value:t.form.source},on:{input:function(e){e.target.composing||t.$set(t.form,"source",e.target.value)}}})]):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"row"},[t._m(4),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"task_name",attrs:{type:"text",autoHeight:"true",rows:"2",placeholder:"请输入视频标题"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"row"},[t._m(5),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.shortTitle,expression:"form.shortTitle"}],staticClass:"task_name",attrs:{type:"text",autoHeight:"true",rows:"2",placeholder:"请输入视频短标题"},domProps:{value:t.form.shortTitle},on:{input:function(e){e.target.composing||t.$set(t.form,"shortTitle",e.target.value)}}})]):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"row select",on:{click:t.videotype}},[t._m(6),t._v(" "),e("span",{staticClass:"text",class:{gray:!t.releaseType}},[t._v("\n\t\t\t\t\t"+t._s(t.form.source||"请选择类型")+"\n\t\t\t\t")]),t._v(" "),e("i",{staticClass:"caret"})]):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"row"},[e("div",{staticClass:"label"},["快手"==t.form.source||"抖音"==t.form.source?e("em",[t._v("*")]):t._e(),t._v("视频路径\n\t\t\t\t")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.videoSourcePath,expression:"form.videoSourcePath"}],staticClass:"task_name",attrs:{type:"text",autoHeight:"true",rows:"2",placeholder:"请输入视频路径"},domProps:{value:t.form.videoSourcePath},on:{input:function(e){e.target.composing||t.$set(t.form,"videoSourcePath",e.target.value)}}})]):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"row"},[e("div",{staticClass:"label"},[t._v("\n\t\t\t\t\t备注说明\n\t\t\t\t")]),t._v(" "),e("van-field",{attrs:{rows:"2",autosize:"",label:"",type:"textarea",maxlength:"30",placeholder:"","show-word-limit":""},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1):t._e(),t._v(" "),0===t.form.releaseType?e("div",{staticClass:"row select",on:{click:t.setTaskType}},[t._m(7),t._v(" "),e("span",{staticClass:"text",class:{gray:!t.typeValue}},[t._v("\n\t\t\t\t\t"+t._s(t.typeValue||"请选择类型")+"\n\t\t\t\t")]),t._v(" "),e("i",{staticClass:"caret"})]):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},model:{value:t.top,callback:function(e){t.top=e},expression:"top"}},[t._v("是否置顶")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.topDays,expression:"form.topDays"}],attrs:{type:"number",placeholder:"请填写天数"},domProps:{value:t.form.topDays},on:{input:function(e){e.target.composing||t.$set(t.form,"topDays",e.target.value)}}})],1),t._v(" "),!t.isLocalRole||t.pubSquarePermission?e("div",{staticClass:"row select"},[e("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},model:{value:t.publishToSquare,callback:function(e){t.publishToSquare=e},expression:"publishToSquare"}},[t._v("发布到广场")]),t._v(" "),e("span",{staticClass:"text gray",on:{click:t.toggleSecondaryColumn4SquareSelect}},[t._v(t._s(t._f("formatSecondaryColumn")(t.secondaryColumn4Square,"square",t.secondaryColumn4SquareList)))]),t._v(" "),e("i",{staticClass:"caret",on:{click:t.toggleSecondaryColumn4SquareSelect}})],1):t._e(),t._v(" "),!t.isLocalRole||t.pubToutiaoPermission?e("div",{staticClass:"row select"},[e("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},model:{value:t.publishToToutiao,callback:function(e){t.publishToToutiao=e},expression:"publishToToutiao"}},[t._v("发布到头条")]),t._v(" "),e("span",{staticClass:"text gray",on:{click:t.toggleSecondaryColumn4ToutiaoSelect}},[t._v(t._s(t._f("formatSecondaryColumn")(t.secondaryColumn4Toutiao,"toutiao",t.secondaryColumn4ToutiaoList)))]),t._v(" "),e("i",{staticClass:"caret",on:{click:t.toggleSecondaryColumn4ToutiaoSelect}})],1):t._e(),t._v(" "),e("div",{staticClass:"row select"},[e("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},on:{change:t.toggleLocal},model:{value:t.publishToLocal,callback:function(e){t.publishToLocal=e},expression:"publishToLocal"}},[t._v("发布到地方")]),t._v(" "),e("span",{staticClass:"text",class:{gray:!t.selectedLocal.text},on:{click:t.selectLocal}},[t._v("\n\t\t\t\t\t"+t._s(t.selectedLocal.text||"选择地方")+"\n\t\t\t\t")]),t._v(" "),e("i",{staticClass:"caret",on:{click:t.selectLocal}})],1),t._v(" "),t.isLocalRole?t._e():e("div",{staticClass:"row select"},[e("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},on:{change:t.changeGroupActivity},model:{value:t.groupActivity,callback:function(e){t.groupActivity=e},expression:"groupActivity"}},[t._v("集团活动")]),t._v(" "),e("span",{staticClass:"text gray",on:{click:t.toggleGroupActivitySelect}},[t._v(t._s(t._f("formatActivityColumn")(t.selectedGroupActivityId,t.groupActivityList)))]),t._v(" "),e("i",{staticClass:"caret",on:{click:t.toggleGroupActivitySelect}})],1),t._v(" "),t.isLocalRole?e("div",{staticClass:"row select"},[e("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},on:{change:t.changeRegionActivity},model:{value:t.regionActivity,callback:function(e){t.regionActivity=e},expression:"regionActivity"}},[t._v("地方活动")]),t._v(" "),e("span",{staticClass:"text gray",on:{click:t.toggleRegionActivitySelect}},[t._v(t._s(t._f("formatActivityColumn")(t.selectedRegionActivityId,t.regionActivityList)))]),t._v(" "),e("i",{staticClass:"caret",on:{click:t.toggleRegionActivitySelect}})],1):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"row select"},[e("van-checkbox",{attrs:{"checked-color":"rgba(96, 187, 255, 0.94)",shape:"square"},model:{value:t.publishToVideo,callback:function(e){t.publishToVideo=e},expression:"publishToVideo"}},[t._v("发布到视频")]),t._v(" "),e("span",{staticClass:"text gray",on:{click:t.toggleSecondaryColumn4VideoSelect}},[t._v(t._s(t._f("formatSecondaryColumn")(t.secondaryColumn4Video,"video",t.secondaryColumn4VideoList)))]),t._v(" "),e("i",{staticClass:"caret",on:{click:t.toggleSecondaryColumn4VideoSelect}})],1):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"video_item"},[e("div",{staticClass:"label"},[t._m(8),t._v(" "),t.form.videoPath?e("img",{staticClass:"btn_delete",attrs:{src:o("RO6x"),alt:""},on:{click:t.removeVideoUpload}}):t._e()]),t._v(" "),e("div",{staticClass:"uploads"},[t.form.videoPath?e("div",{staticClass:"upload_container"},[e("custom-video",{ref:"video",attrs:{src:t.form.videoPath,poster:t.form.storagePath}}),t._v(" "),e("div",[e("span",{staticClass:"btn_crop",on:{click:t.videoCut}},[t._v("\n\t\t\t\t\t\t\t\t选取封面\n\t\t\t\t\t\t\t")]),t._v(" "),e("span",{staticClass:"red"},[t._v("\n\t\t\t\t\t\t\t\t请拖动进度条后进行选取\n\t\t\t\t\t\t\t")])])],1):e("div",{staticClass:"btn_upload",on:{click:t.uploadFile}},[e("img",{attrs:{src:o("+i2t"),alt:""}})])])]):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"row",staticStyle:{"border-bottom":"none"}},[e("div",{staticClass:"label"},[t._v("\n\t\t\t\t\t上传封面\n\t\t\t\t")]),t._v(" "),t.form.coverImg?e("span",{staticClass:"btn_crop",on:{click:t.doCrop}},[t._v("\n\t\t\t\t\t裁剪缩略图\n\t\t\t\t")]):t._e(),t._v(" "),t.form.coverImg?e("img",{staticClass:"btn_delete",attrs:{src:o("RO6x"),alt:""},on:{click:t.removeUpload}}):t._e()]):t._e(),t._v(" "),1===t.form.releaseType?e("div",{staticClass:"uploads g_m0"},[t.form.coverImg?e("div",{staticClass:"upload_container"},[e("van-image",{attrs:{src:`${t.origin}${t.form.coverImg}`,fit:"contain",width:"9.2rem",height:"5rem"}})],1):e("div",{staticClass:"btn_upload",on:{click:function(e){return t.uploadFile("videoCover")}}},[e("img",{attrs:{src:o("T4bl"),alt:""}})])]):t._e(),t._v(" "),1!=t.form.releaseType?e("div",{staticClass:"row",staticStyle:{"border-bottom":"none"}},[t._m(9),t._v(" "),t.form.coverImg?e("span",{staticClass:"btn_crop",on:{click:t.doCrop}},[t._v("\n\t\t\t\t\t裁剪缩略图\n\t\t\t\t")]):t._e(),t._v(" "),t.form.coverImg?e("img",{staticClass:"btn_delete",attrs:{src:o("RO6x"),alt:""},on:{click:t.removeUpload}}):t._e()]):t._e(),t._v(" "),1!=t.form.releaseType?e("div",{staticClass:"uploads g_m0"},[t.form.coverImg?e("div",{staticClass:"upload_container"},[e("van-image",{attrs:{src:""+t.form.coverImg,fit:"contain",width:"9.2rem",height:"5rem"}})],1):e("div",{staticClass:"btn_upload",on:{click:t.uploadFile}},[e("img",{attrs:{src:o("T4bl"),alt:""}})])]):t._e(),t._v(" "),e("div",{staticClass:"bottom_btns"},[t.$route.params.id?e("van-row",{attrs:{gutter:"20"}},[e("van-col",{attrs:{span:"12"}},[e("van-button",{staticClass:"g_btn_gray",attrs:{type:"default",block:""},on:{click:function(e){t.showReason=!0}}},[t._v("作废")])],1),t._v(" "),e("van-col",{attrs:{span:"12"}},[e("van-button",{attrs:{type:"info",block:"",disabled:t.disabledSubmitBtn},on:{click:function(e){return t.onSubmit("true")}}},[t._v("提交")])],1)],1):e("van-row",{attrs:{gutter:"20"}},[e("van-col",{attrs:{span:"24"}},[e("van-button",{attrs:{type:"info",block:"",disabled:t.disabledSubmitBtn},on:{click:function(e){return t.onSubmit()}}},[t._v("提交")])],1)],1)],1)])],1),t._v(" "),e("DefaultPop",{attrs:{options:t.defaultPopOpts},on:{"on-confirm":t.defaultPopConfirm},model:{value:t.showDefaultPop,callback:function(e){t.showDefaultPop=e},expression:"showDefaultPop"}}),t._v(" "),e("van-dialog",{attrs:{title:"作废原因","show-cancel-button":"","before-close":t.beforeClose},model:{value:t.showReason,callback:function(e){t.showReason=e},expression:"showReason"}},[e("van-field",{attrs:{rows:"4",type:"textarea",placeholder:"请输入作废原因",required:""},model:{value:t.info.reason,callback:function(e){t.$set(t.info,"reason",e)},expression:"info.reason"}})],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showCompanyPicker,callback:function(e){t.showCompanyPicker=e},expression:"showCompanyPicker"}},[e("van-picker",{attrs:{title:"","show-toolbar":"",columns:t.columns},on:{confirm:t.onActConfirm,cancel:t.onActCancel}})],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showGroupActivityPicker,callback:function(e){t.showGroupActivityPicker=e},expression:"showGroupActivityPicker"}},[e("van-picker",{attrs:{title:"","show-toolbar":"",columns:t.groupActivityList},on:{confirm:t.onActConfirm,cancel:t.onActCancel}})],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showRegionActivityPicker,callback:function(e){t.showRegionActivityPicker=e},expression:"showRegionActivityPicker"}},[e("van-picker",{attrs:{title:"","show-toolbar":"",columns:t.regionActivityList},on:{confirm:t.onActConfirm,cancel:t.onActCancel}})],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showSecondaryColumn4SquarePicker,callback:function(e){t.showSecondaryColumn4SquarePicker=e},expression:"showSecondaryColumn4SquarePicker"}},[e("van-picker",{attrs:{title:"","show-toolbar":"",columns:t.secondaryColumn4SquareList},on:{confirm:t.onActConfirm,cancel:t.onActCancel}})],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showSecondaryColumn4ToutiaoPicker,callback:function(e){t.showSecondaryColumn4ToutiaoPicker=e},expression:"showSecondaryColumn4ToutiaoPicker"}},[e("van-picker",{attrs:{title:"","show-toolbar":"",columns:t.secondaryColumn4ToutiaoList},on:{confirm:t.onActConfirm,cancel:t.onActCancel}})],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showSecondaryColumn4VideoPicker,callback:function(e){t.showSecondaryColumn4VideoPicker=e},expression:"showSecondaryColumn4VideoPicker"}},[e("van-picker",{attrs:{title:"","show-toolbar":"",columns:t.secondaryColumn4VideoList},on:{confirm:t.onActConfirm,cancel:t.onActCancel}})],1),t._v(" "),e("UploadTip",{attrs:{uploadOptions:t.uploadOptions,uploadCallback:t.uploadCallback},model:{value:t.showUploadTypePop,callback:function(e){t.showUploadTypePop=e},expression:"showUploadTypePop"}}),t._v(" "),e("CroperImagePlug",{attrs:{formSource:"2",showCropper:t.showCropper,base64Image:t.base64Image,squareCrop:t.squareCrop},on:{cancel:t.cancelCroper,croperResult:t.fetchCroperResult}})],1)},r=[function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("发布类型\n\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("文章地址\n\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("文章标题\n\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("文章来源\n\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("视频标题\n\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("短标题\n\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("视频来源\n\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("任务类型\n\t\t\t\t")])},function(){var t=this._self._c;return t("span",[t("em",[this._v("*")]),this._v("上传视频\n\t\t\t\t\t")])},function(){var t=this._self._c;return t("div",{staticClass:"label"},[t("em",[this._v("*")]),this._v("缩略图\n\t\t\t\t")])}]},Ioun:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("bQnn");e.default={components:{VueCropper:i.VueCropper},props:{showCropper:{type:Boolean,default:function(){return!1}},base64Image:{type:String,default:""},squareCrop:{type:Boolean,default:function(){return!1}},formSource:{type:String,default:""}},watch:{squareCrop:{handler:function(t){this.option.autoCropWidth=t?(window.innerWidth-10)/1.786+"px":window.innerWidth-10+"px"},deep:!0}},data:function(){return{option:{img:"",outputSize:.8,info:!0,outputType:"png",canScale:!0,autoCrop:!0,autoCropWidth:window.innerWidth-100+"px",autoCropHeight:(window.innerWidth-10)/1.786+"px",high:!0,fixedBox:!1,fixed:!1,fixedNumber:[1,1],full:!1,canMoveBox:!0,original:!1,centerBox:!1,infoTrue:!1,mode:"100% auto"}}},methods:{base64ToFile:function(t){for(var e=atob(t.split(",")[1]),o=t.split(",")[0].match(/:(.*?);/)[1],i=[],r=0;r<e.length;r++)i.push(e.charCodeAt(r));var a=new Blob([new Uint8Array(i)],{type:o});return new File([a],(new Date).getTime()+".png",{type:o})},getCropBlob:function(){var t=this,e=this;this.$refs.cropper.getCropData((function(o){t.$api.upload.upload({file:e.base64ToFile(o),type:"img",formSource:t.formSource}).then((function(t){1==t.code?e.$emit("croperResult",t.data.filePath):e.$toast.fail("上传失败")})).catch((function(t){return console.error(t)}))}))},rotateImage:function(){this.$refs.cropper.rotateRight()},cancelCropper:function(){this.$emit("cancel")}}}},L3Dc:function(t,e,o){},OKXd:function(t,e,o){"use strict";o.r(e);var i=o("/vek"),r=o("Po8u");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("PJP7");var n=o("gp09"),s=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},PJP7:function(t,e,o){"use strict";o("SmtZ")},Po8u:function(t,e,o){"use strict";o.r(e);var i=o("Ioun"),r=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e.default=r.a},QqVz:function(t,e,o){"use strict";o.r(e);var i=o("4eTk"),r=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e.default=r.a},RO6x:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAZlBMVEUAAADxwwLzxAHzwwDzxgDzxALzxAL0xAL0xAP0xQL0xgD0xQH0xAL0xAPzxQD0xAL0xALyxAP0xAPzwwDzxALzxALzxQHzxAL7wQDzxQL0xQDzxALwxAD0xAPzxALzxAHzxALzxAIFRGOFAAAAIXRSTlMAgL9AKtiU58iNFbn4UzrdclxIHaZpq50GhDPxDF/SsXgl4xE9AAADbElEQVR42u3d6XKiQBSG4YM0+yJbEPec+7/JiVVTGUBFmhI47XzP75SpVxtoZWkCAIC+k0pLMltq7SLnyDeeXwe5kT1pdo257xIkZsUo1+Nn/DOZItwfeUiUkAmab49fqW0SL7/wGLuQZAt4JEf0+DpteDyLxLJj1nEloTLW5JFIZ+aPKCl4gg2Jk/IkLglziPkhL6p3wd7dXTf8WECiKIcf8K2UfoV55fEDe5Kk4nt1QT3h96NeSdOVhO/sUnrg9HXhvojk8Lnvi54oowd/K0XGPZ6i51zucaRMIEuPu3waZEvd3l3u2tILOXfFB5IgPHLHUdEre5EfyRd3JfTalTsuJMF1wqTjEMs7loSTdkHf8qZcvZGV0zgbcfP5zbR5eSJtbDVTj9KOsEmw4jYvpLEsbqtpbcnUjVYJ2wFnk+d/PrccG1qZy23p5N/yFK0s4jbSkHNbQSvbTj4cHGb8UmJVDhvAqaxXm58x/OFRYpDt0I7UKNnzWaxhQnqsYMMUnzGyno+thA2TPJ3EGUZ9wFFk+Ehis1Fsespig1g0IDVipnXjpDTodDhbPdy2sRay4Tar53w4kbZ1zl12Q+geQhCCEIQg5AYhCEEIQhCCEIT8QAhCEPL/hKgks0MaKbSzRIkMsX2+CXTOTPu2vBBL67yux39Z0kIU/3K1rjFQwkIi/ifXuVAgkhWiuKXSuvxciQrJucXRulArFxViaf1bbrMQghCEIAQhCEEIQhCCEIQgBCEIQQhCEIIQhCAEIQhBCEIQghCEIAQhCEEIQhCCEIQgBCEIQQhCEIIQhCAEIQhBCEIQghCE/LchBbf4Wg8sLkSFlNziaj3quBQVQvXz93j486tl3YdIzdQ7QxthIaQ8nee/B7/rrUi7V/dHsGWOfZtGsf2YeRtIvA38R3loaLTmUEq9Mf9jnjCAEIQgBCEIQQhCEIIQhCBESkis9VPPLKupxvQOTuclG1pEE3OLM8M6VSktIp1h4V1X8zVnePfcOdZtTGgByRwLCCvuymh2GXcpeovt3ULl1qwiT2OZXh07XtmOtMhdKMamNwl4VQG9S+jwguZcKvzMKzrTjfnb+460iVxgcEv0ESVbejuXV+DSDPa8uD3NIq14UVVKcymqIy/kWBU0p1NeOzHPLHbq/EQLKO1ZlQQA8PH+AJ4vMuUUoXE7AAAAAElFTkSuQmCC"},SmtZ:function(t,e,o){},T4bl:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAXVBMVEUAAACHh4eJiYmKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIiIiKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIiIiKioqKioqKioqKioqKiorFa0xbAAAAHnRSTlMAQIC/HwjG8aiMmGVGF82ybuDVdZ+TNOi6EFxMVSpgbgijAAADEElEQVR42u3ciXKiQBSF4W5kk0VRXKOe93/MScaYhEA3S2XMvcz5XkB/LZruWxSGiIiIiIiIiIj+c1aBQSEBxAsYIgxDpGGINAyRhiHSMEQahkgzKWRhBFgwhCF/MYQhDPFjCEMY4scQhjCky6Fapqd1FthIc0i4P+IhWVu1IdUGDctIZ8gS361CjSFbdLD6QjboVGoL2aHbOtIVcoXLUlVItIKT1RQSwG2tKWQNj0hPSASfQk+IhU+gJySHT6onZA+frZ6QBbz0hMzmH5nNNTKbVcsk8LCKQlK4HU2fs5yQHG5Z/zdMxYR4FuDkNuCIXIgJuU6/1F/easWETD8hHvBmKSZk8pl9i78OYkImTlFS3G3lhEyaa9V4qOWEmHyFr45BZHoU+HSTE/KacsJDHJSmT5ngUywpxJjwfRp/MwPE+CoXFTLGHk2h0pAc36Q6Qw5oedEYEm3QFioMWaNDpi8kQKertpALum1KXSEhXPa6QmI4XTSFZHBbnfWE5PBZqgmx8LsoCYk28IsjHSFr9AlUhAToZxWEXOGxyuoRTxU9IWQXuu+EHvejsaCQ2n1sXcHtYF5JCrkACHrGeM4tvKCQMHH+vBXQu8mSExLjzWbknfBk7uSE7Jw7jfNxyIorJaR2P/BwGvSch5CQAh+S1kTVY2XeCQkJE+d05wU+O/MgIyR2TnduQ7dXIkJ2aDqbD1tNIbV7TU2hKKRAS/WRqCgkTJz7jgKaQmLnslommkIy9zdcQFFI5d6c76EopIDLJoeikDCBm6aQGD8bYhdNzwrJ8NMhaHpSSIV5hBSYR0iZzCQkxnjbNGgSEJJhrLRrmvjrIRUGaB235IUUGOtsJIaMv9BrIzIkxkixERmSYSwrMqTCWLGRGGIx2lJiSHnEaBeJIQuMdxYYkmECIy8kxzxCLOYRUh5nErKYaPB7xNHU93JvEe9FCebyekOGMOSOIQxhCEMYwhCGvGLI7EMmH6wY4sGQp4fYn/HrIW1KpygMYQhDGMIQhjCEIQxhyIxD7L8x9eMNERERERERERFRyx9tlwFD2OO5xAAAAABJRU5ErkJggg=="},XlER:function(t,e,o){},bQnn:function(t,e,o){var i;self,i=()=>(()=>{var t={173:(t,e,o)=>{(t.exports=o(252)(!1)).push([t.id,'\n.vue-cropper[data-v-8ed66ddc] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-8ed66ddc],\n.cropper-box-canvas[data-v-8ed66ddc],\n.cropper-drag-box[data-v-8ed66ddc],\n.cropper-crop-box[data-v-8ed66ddc],\n.cropper-face[data-v-8ed66ddc] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-8ed66ddc] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-8ed66ddc] {\n  overflow: hidden;\n}\n.cropper-move[data-v-8ed66ddc] {\n  cursor: move;\n}\n.cropper-crop[data-v-8ed66ddc] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-8ed66ddc] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-8ed66ddc] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-8ed66ddc] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-8ed66ddc] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-8ed66ddc] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-8ed66ddc] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-8ed66ddc] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-8ed66ddc] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-8ed66ddc] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-8ed66ddc] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-8ed66ddc] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-8ed66ddc] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-8ed66ddc] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-8ed66ddc] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-8ed66ddc] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-8ed66ddc] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-8ed66ddc] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-8ed66ddc] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-8ed66ddc] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-8ed66ddc] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-8ed66ddc] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-8ed66ddc] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-8ed66ddc],\n  .point4[data-v-8ed66ddc],\n  .point5[data-v-8ed66ddc],\n  .point7[data-v-8ed66ddc] {\n    display: none;\n}\n.point3[data-v-8ed66ddc] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-8ed66ddc] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-8ed66ddc] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-8ed66ddc] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},252:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=function(t,e){var o,i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var a=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),n=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[i].concat(n).concat([a]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o})).join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var n=t[r];"number"==typeof n[0]&&i[n[0]]||(o&&!n[2]?n[2]=o:o&&(n[2]="("+n[2]+") and ("+o+")"),e.push(n))}},e}},125:(t,e,o)=>{var i=o(173);"string"==typeof i&&(i=[[t.id,i,""]]),o(723)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},723:(t,e,o)=>{var i,r,a={},n=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,o){if("function"==typeof t)return t();if(void 0===e[t]){var i=s.call(this,t,o);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),l=null,u=0,p=[],h=o(947);function d(t,e){for(var o=0;o<t.length;o++){var i=t[o],r=a[i.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](i.parts[n]);for(;n<i.parts.length;n++)r.parts.push(C(i.parts[n],e))}else{var s=[];for(n=0;n<i.parts.length;n++)s.push(C(i.parts[n],e));a[i.id]={id:i.id,refs:1,parts:s}}}}function f(t,e){for(var o=[],i={},r=0;r<t.length;r++){var a=t[r],n=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[n]?i[n].parts.push(s):o.push(i[n]={id:n,parts:[s]})}return o}function m(t,e){var o=c(t.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=p[p.length-1];if("top"===t.insertAt)i?i.nextSibling?o.insertBefore(e,i.nextSibling):o.appendChild(e):o.insertBefore(e,o.firstChild),p.push(e);else if("bottom"===t.insertAt)o.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(t.insertAt.before,o);o.insertBefore(e,r)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=p.indexOf(t);e>=0&&p.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=o.nc;i&&(t.attrs.nonce=i)}return y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(o){t.setAttribute(o,e[o])}))}function C(t,e){var o,i,r,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var n=u++;o=l||(l=g(e)),i=x.bind(null,o,n,!1),r=x.bind(null,o,n,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),m(t,e),e}(e),i=k.bind(null,o,e),r=function(){v(o),o.href&&URL.revokeObjectURL(o.href)}):(o=g(e),i=A.bind(null,o),r=function(){v(o)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=n()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var o=f(t,e);return d(o,e),function(t){for(var i=[],r=0;r<o.length;r++){var n=o[r];(s=a[n.id]).refs--,i.push(s)}for(t&&d(f(t,e),e),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}};var w,b=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function x(t,e,o,i){var r=o?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var a=document.createTextNode(r),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(a,n[e]):t.appendChild(a)}}function A(t,e){var o=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}function k(t,e,o){var i=o.css,r=o.sourceMap,a=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||a)&&(i=h(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var n=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(n),s&&URL.revokeObjectURL(s)}},947:t=>{t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var o=e.protocol+"//"+e.host,i=o+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,a=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?o+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}}},e={};function o(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={id:i,exports:{}};return t[i](a,a.exports,o),a.exports}o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nc=void 0;var i={};return(()=>{"use strict";o.r(i),o.d(i,{VueCropper:()=>c,default:()=>u});var t=function(){var t=this,e=t._self._c;return e("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:t.scaleImg,mouseout:t.cancelScale}},[t.imgs?e("div",{staticClass:"cropper-box"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}},[e("img",{ref:"cropperImg",attrs:{src:t.imgs,alt:"cropper-img"}})])]):t._e(),t._v(" "),e("div",{staticClass:"cropper-drag-box",class:{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping},on:{mousedown:t.startMove,touchstart:t.startMove}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"}},[e("span",{staticClass:"cropper-view-box"},[e("img",{style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"},attrs:{src:t.imgs,alt:"cropper-img"}})]),t._v(" "),e("span",{staticClass:"cropper-face cropper-move",on:{mousedown:t.cropMove,touchstart:t.cropMove}}),t._v(" "),t.info?e("span",{staticClass:"crop-info",style:{top:t.cropInfo.top}},[t._v(t._s(t.cropInfo.width)+" × "+t._s(t.cropInfo.height))]):t._e(),t._v(" "),t.fixedBox?t._e():e("span",[e("span",{staticClass:"crop-line line-w",on:{mousedown:function(e){return t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){return t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),e("span",{staticClass:"crop-line line-a",on:{mousedown:function(e){return t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){return t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),e("span",{staticClass:"crop-line line-s",on:{mousedown:function(e){return t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){return t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),e("span",{staticClass:"crop-line line-d",on:{mousedown:function(e){return t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){return t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),e("span",{staticClass:"crop-point point1",on:{mousedown:function(e){return t.changeCropSize(e,!0,!0,1,1)},touchstart:function(e){return t.changeCropSize(e,!0,!0,1,1)}}}),t._v(" "),e("span",{staticClass:"crop-point point2",on:{mousedown:function(e){return t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){return t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),e("span",{staticClass:"crop-point point3",on:{mousedown:function(e){return t.changeCropSize(e,!0,!0,2,1)},touchstart:function(e){return t.changeCropSize(e,!0,!0,2,1)}}}),t._v(" "),e("span",{staticClass:"crop-point point4",on:{mousedown:function(e){return t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){return t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),e("span",{staticClass:"crop-point point5",on:{mousedown:function(e){return t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){return t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),e("span",{staticClass:"crop-point point6",on:{mousedown:function(e){return t.changeCropSize(e,!0,!0,1,2)},touchstart:function(e){return t.changeCropSize(e,!0,!0,1,2)}}}),t._v(" "),e("span",{staticClass:"crop-point point7",on:{mousedown:function(e){return t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){return t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),e("span",{staticClass:"crop-point point8",on:{mousedown:function(e){return t.changeCropSize(e,!0,!0,2,2)},touchstart:function(e){return t.changeCropSize(e,!0,!0,2,2)}}})])])])};function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}function r(t,o){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var i,r,a,n,s=[],c=!0,l=!1;try{if(a=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;c=!1}else for(;!(c=(i=a.call(o)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(t){l=!0,r=t}finally{try{if(!c&&null!=o.return&&(n=o.return(),Object(n)!==n))return}finally{if(l)throw r}}return s}}(t,o)||function(t,o){if(t){if("string"==typeof t)return e(t,o);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,o):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t._withStripped=!0;var a={getData:function(t){return new Promise((function(e,o){var i={};(function(t){var e=null;return new Promise((function(o,i){if(t.src)if(/^data\:/i.test(t.src))e=function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),o=e.length,i=new ArrayBuffer(o),r=new Uint8Array(i),a=0;a<o;a++)r[a]=e.charCodeAt(a);return i}(t.src),o(e);else if(/^blob\:/i.test(t.src)){var r=new FileReader;r.onload=function(t){e=t.target.result,o(e)},function(t,e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(t){var e;200!=this.status&&0!==this.status||(e=this.response,r.readAsArrayBuffer(e))},o.send()}(t.src)}else{var a=new XMLHttpRequest;a.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";e=a.response,o(e),a=null},a.open("GET",t.src,!0),a.responseType="arraybuffer",a.send(null)}else i("img error")}))})(t).then((function(t){i.arrayBuffer=t,i.orientation=function(t){var e,o,i,r,a,n,s,c,l,u=new DataView(t),p=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(c=2;c<p;){if(255===u.getUint8(c)&&225===u.getUint8(c+1)){n=c;break}c++}if(n&&(o=n+10,"Exif"===function(t,e,o){var i,r="";for(i=e,o+=e;i<o;i++)r+=String.fromCharCode(t.getUint8(i));return r}(u,n+4,4)&&((r=18761===(a=u.getUint16(o)))||19789===a)&&42===u.getUint16(o+2,r)&&(i=u.getUint32(o+4,r))>=8&&(s=o+i)),s)for(p=u.getUint16(s,r),l=0;l<p;l++)if(c=s+12*l+2,274===u.getUint16(c,r)){c+=8,e=u.getUint16(c,r);break}return e}(t),e(i)})).catch((function(t){o(t)}))}))}};const n=a,s={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:function(){return 10},validator:function(t){return Array.isArray(t)?Number(t[0])>=0&&Number(t[1])>=0:Number(t)>=0}}},computed:{cropInfo:function(){var t={};if(t.top=this.cropOffsertY>21?"-21px":"0px",t.width=this.cropW>0?this.cropW:0,t.height=this.cropH>0?this.cropH:0,this.infoTrue){var e=1;this.high&&!this.full&&(e=window.devicePixelRatio),1!==this.enlarge&!this.full&&(e=Math.abs(Number(this.enlarge))),t.width=t.width*e,t.height=t.height*e,this.full&&(t.width=t.width/this.scale,t.height=t.height/this.scale)}return t.width=t.width.toFixed(0),t.height=t.height.toFixed(0),t},isIE:function(){return navigator.userAgent,!!window.ActiveXObject||"ActiveXObject"in window},passive:function(){return this.isIE?null:{passive:!1}}},watch:{img:function(){this.checkedImg()},imgs:function(t){""!==t&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(t,e){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(t){t&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion:function(t){for(var e=navigator.userAgent.split(" "),o="",i=new RegExp(t,"i"),r=0;r<e.length;r++)i.test(e[r])&&(o=e[r]);return o?o.split("/")[1].split("."):["0","0","0"]},checkOrientationImage:function(t,e,o,i){var r=this;if(this.getVersion("chrome")[0]>=81)e=-1;else if(this.getVersion("safari")[0]>=605){var a=this.getVersion("version");a[0]>13&&a[1]>1&&(e=-1)}else{var n=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(n){var s=n[1];((s=s.split("_"))[0]>13||s[0]>=13&&s[1]>=4)&&(e=-1)}}var c=document.createElement("canvas"),l=c.getContext("2d");switch(l.save(),e){case 2:c.width=o,c.height=i,l.translate(o,0),l.scale(-1,1);break;case 3:c.width=o,c.height=i,l.translate(o/2,i/2),l.rotate(180*Math.PI/180),l.translate(-o/2,-i/2);break;case 4:c.width=o,c.height=i,l.translate(0,i),l.scale(1,-1);break;case 5:c.height=o,c.width=i,l.rotate(.5*Math.PI),l.scale(1,-1);break;case 6:c.width=i,c.height=o,l.translate(i/2,o/2),l.rotate(90*Math.PI/180),l.translate(-o/2,-i/2);break;case 7:c.height=o,c.width=i,l.rotate(.5*Math.PI),l.translate(o,-i),l.scale(-1,1);break;case 8:c.height=o,c.width=i,l.translate(i/2,o/2),l.rotate(-90*Math.PI/180),l.translate(-o/2,-i/2);break;default:c.width=o,c.height=i}l.drawImage(t,0,0,o,i),l.restore(),c.toBlob((function(t){var e=URL.createObjectURL(t);URL.revokeObjectURL(r.imgs),r.imgs=e}),"image/"+this.outputType,1)},checkedImg:function(){var t=this;if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var e=new Image;if(e.onload=function(){if(""===t.img)return t.$emit("imgLoad","error"),t.$emit("img-load","error"),!1;var o=e.width,i=e.height;n.getData(e).then((function(r){t.orientation=r.orientation||1;var a=Number(t.maxImgSize);!t.orientation&&o<a&i<a?t.imgs=t.img:(o>a&&(i=i/o*a,o=a),i>a&&(o=o/i*a,i=a),t.checkOrientationImage(e,t.orientation,o,i))}))},e.onerror=function(){t.$emit("imgLoad","error"),t.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(e.crossOrigin=""),this.isIE){var o=new XMLHttpRequest;o.onload=function(){var t=URL.createObjectURL(this.response);e.src=t},o.open("GET",this.img,!0),o.responseType="blob",o.send()}else e.src=this.img},startMove:function(t){if(t.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in t?t.clientX:t.touches[0].clientX)-this.x,this.moveY=("clientY"in t?t.clientY:t.touches[0].clientY)-this.y,t.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==t.touches.length&&(this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=t.offsetX?t.offsetX:t.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=t.offsetY?t.offsetY:t.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(t){var e=this;t.preventDefault();var o=this.scale,i=this.touches[0].clientX,r=this.touches[0].clientY,a=t.touches[0].clientX,n=t.touches[0].clientY,s=this.touches[1].clientX,c=this.touches[1].clientY,l=t.touches[1].clientX,u=t.touches[1].clientY,p=Math.sqrt(Math.pow(i-s,2)+Math.pow(r-c,2)),h=Math.sqrt(Math.pow(a-l,2)+Math.pow(n-u,2))-p,d=1,f=(d=(d=d/this.trueWidth>d/this.trueHeight?d/this.trueHeight:d/this.trueWidth)>.1?.1:d)*h;if(!this.touchNow){if(this.touchNow=!0,h>0?o+=Math.abs(f):h<0&&o>Math.abs(f)&&(o-=Math.abs(f)),this.touches=t.touches,setTimeout((function(){e.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o}},cancelTouchScale:function(t){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(t){var e=this;if(t.preventDefault(),t.touches&&2===t.touches.length)return this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var o,i,r="clientX"in t?t.clientX:t.touches[0].clientX,a="clientY"in t?t.clientY:t.touches[0].clientY;o=r-this.moveX,i=a-this.moveY,this.$nextTick((function(){if(e.centerBox){var t,r,a,n,s=e.getImgAxis(o,i,e.scale),c=e.getCropAxis(),l=e.trueHeight*e.scale,u=e.trueWidth*e.scale;switch(e.rotate){case 1:case-1:case 3:case-3:t=e.cropOffsertX-e.trueWidth*(1-e.scale)/2+(l-u)/2,r=e.cropOffsertY-e.trueHeight*(1-e.scale)/2+(u-l)/2,a=t-l+e.cropW,n=r-u+e.cropH;break;default:t=e.cropOffsertX-e.trueWidth*(1-e.scale)/2,r=e.cropOffsertY-e.trueHeight*(1-e.scale)/2,a=t-u+e.cropW,n=r-l+e.cropH}s.x1>=c.x1&&(o=t),s.y1>=c.y1&&(i=r),s.x2<=c.x2&&(o=a),s.y2<=c.y2&&(i=n)}e.x=o,e.y=i,e.$emit("imgMoving",{moving:!0,axis:e.getImgAxis()}),e.$emit("img-moving",{moving:!0,axis:e.getImgAxis()})}))},leaveImg:function(t){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(t){var e=this;t.preventDefault();var o=this.scale,i=t.deltaY||t.wheelDelta;i=navigator.userAgent.indexOf("Firefox")>0?30*i:i,this.isIE&&(i=-i);var r=this.coe,a=(r=r/this.trueWidth>r/this.trueHeight?r/this.trueHeight:r/this.trueWidth)*i;a<0?o+=Math.abs(a):o>Math.abs(a)&&(o-=Math.abs(a));var n=a<0?"add":"reduce";if(n!==this.coeStatus&&(this.coeStatus=n,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){e.scaling=!1,e.coe=e.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o},changeScale:function(t){var e=this.scale;t=t||1;var o=20;if((t*=o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth)>0?e+=Math.abs(t):e>Math.abs(t)&&(e-=Math.abs(t)),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},createCrop:function(t){var e=this;t.preventDefault();var o="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,i="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick((function(){var t=o-e.cropX,r=i-e.cropY;if(t>0?(e.cropW=t+e.cropChangeX>e.w?e.w-e.cropChangeX:t,e.cropOffsertX=e.cropChangeX):(e.cropW=e.w-e.cropChangeX+Math.abs(t)>e.w?e.cropChangeX:Math.abs(t),e.cropOffsertX=e.cropChangeX+t>0?e.cropChangeX+t:0),e.fixed){var a=e.cropW/e.fixedNumber[0]*e.fixedNumber[1];a+e.cropOffsertY>e.h?(e.cropH=e.h-e.cropOffsertY,e.cropW=e.cropH/e.fixedNumber[1]*e.fixedNumber[0],e.cropOffsertX=t>0?e.cropChangeX:e.cropChangeX-e.cropW):e.cropH=a,e.cropOffsertY=e.cropOffsertY}else r>0?(e.cropH=r+e.cropChangeY>e.h?e.h-e.cropChangeY:r,e.cropOffsertY=e.cropChangeY):(e.cropH=e.h-e.cropChangeY+Math.abs(r)>e.h?e.cropChangeY:Math.abs(r),e.cropOffsertY=e.cropChangeY+r>0?e.cropChangeY+r:0)}))},changeCropSize:function(t,e,o,i,r){t.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=e,this.canChangeY=o,this.changeCropTypeX=i,this.changeCropTypeY=r,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("changeCropSize",{width:this.cropW,height:this.cropH}),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow:function(t){var e=this;t.preventDefault();var o="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,i="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0,a=this.w,n=this.h,s=0,c=0;if(this.centerBox){var l=this.getImgAxis(),u=l.x2,p=l.y2;s=l.x1>0?l.x1:0,c=l.y1>0?l.y1:0,a>u&&(a=u),n>p&&(n=p)}var h=r(this.checkCropLimitSize(),2),d=h[0],f=h[1];this.$nextTick((function(){var t=o-e.cropX,r=i-e.cropY;if(e.canChangeX&&(1===e.changeCropTypeX?e.cropOldW-t<d?(e.cropW=d,e.cropOffsertX=e.cropOldW+e.cropChangeX-s-d):e.cropOldW-t>0?(e.cropW=a-e.cropChangeX-t<=a-s?e.cropOldW-t:e.cropOldW+e.cropChangeX-s,e.cropOffsertX=a-e.cropChangeX-t<=a-s?e.cropChangeX+t:s):(e.cropW=Math.abs(t)+e.cropChangeX<=a?Math.abs(t)-e.cropOldW:a-e.cropOldW-e.cropChangeX,e.cropOffsertX=e.cropChangeX+e.cropOldW):2===e.changeCropTypeX&&(e.cropOldW+t<d?e.cropW=d:e.cropOldW+t>0?(e.cropW=e.cropOldW+t+e.cropOffsertX<=a?e.cropOldW+t:a-e.cropOffsertX,e.cropOffsertX=e.cropChangeX):(e.cropW=a-e.cropChangeX+Math.abs(t+e.cropOldW)<=a-s?Math.abs(t+e.cropOldW):e.cropChangeX-s,e.cropOffsertX=a-e.cropChangeX+Math.abs(t+e.cropOldW)<=a-s?e.cropChangeX-Math.abs(t+e.cropOldW):s))),e.canChangeY&&(1===e.changeCropTypeY?e.cropOldH-r<f?(e.cropH=f,e.cropOffsertY=e.cropOldH+e.cropChangeY-c-f):e.cropOldH-r>0?(e.cropH=n-e.cropChangeY-r<=n-c?e.cropOldH-r:e.cropOldH+e.cropChangeY-c,e.cropOffsertY=n-e.cropChangeY-r<=n-c?e.cropChangeY+r:c):(e.cropH=Math.abs(r)+e.cropChangeY<=n?Math.abs(r)-e.cropOldH:n-e.cropOldH-e.cropChangeY,e.cropOffsertY=e.cropChangeY+e.cropOldH):2===e.changeCropTypeY&&(e.cropOldH+r<f?e.cropH=f:e.cropOldH+r>0?(e.cropH=e.cropOldH+r+e.cropOffsertY<=n?e.cropOldH+r:n-e.cropOffsertY,e.cropOffsertY=e.cropChangeY):(e.cropH=n-e.cropChangeY+Math.abs(r+e.cropOldH)<=n-c?Math.abs(r+e.cropOldH):e.cropChangeY-c,e.cropOffsertY=n-e.cropChangeY+Math.abs(r+e.cropOldH)<=n-c?e.cropChangeY-Math.abs(r+e.cropOldH):c))),e.canChangeX&&e.fixed){var l=e.cropW/e.fixedNumber[0]*e.fixedNumber[1];l<f?(e.cropH=f,e.cropW=e.fixedNumber[0]*f/e.fixedNumber[1],1===e.changeCropTypeX&&(e.cropOffsertX=e.cropChangeX+(e.cropOldW-e.cropW))):l+e.cropOffsertY>n?(e.cropH=n-e.cropOffsertY,e.cropW=e.cropH/e.fixedNumber[1]*e.fixedNumber[0],1===e.changeCropTypeX&&(e.cropOffsertX=e.cropChangeX+(e.cropOldW-e.cropW))):e.cropH=l}if(e.canChangeY&&e.fixed){var u=e.cropH/e.fixedNumber[1]*e.fixedNumber[0];u<d?(e.cropW=d,e.cropH=e.fixedNumber[1]*d/e.fixedNumber[0]):u+e.cropOffsertX>a?(e.cropW=a-e.cropOffsertX,e.cropH=e.cropW/e.fixedNumber[0]*e.fixedNumber[1]):e.cropW=u}e.$emit("cropSizing",{cropW:e.cropW,cropH:e.cropH}),e.$emit("crop-sizing",{cropW:e.cropW,cropH:e.cropH})}))},checkCropLimitSize:function(){this.cropW,this.cropH;var t=this.limitMinSize,e=new Array;return e=Array.isArray(t)?t:[t,t],[parseFloat(e[0]),parseFloat(e[1])]},changeCropEnd:function(t){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},calculateSize:function(t,e,o,i,r,a){var n=t/e,s=r,c=a;return s<o&&(s=o,c=Math.ceil(s/n)),c<i&&(c=i,(s=Math.ceil(c*n))<o&&(s=o,c=Math.ceil(s/n))),s<r&&(s=r,c=Math.ceil(s/n)),c<a&&(c=a,s=Math.ceil(c*n)),{width:s,height:c}},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1);var t=r(this.checkCropLimitSize(),2),e=t[0],o=t[1],i=this.fixed?this.calculateSize(this.fixedNumber[0],this.fixedNumber[1],e,o,this.cropW,this.cropH):{width:e,height:o},a=i.width,n=i.height;a>this.cropW&&(this.cropW=a,this.cropOffsertX+a>this.w&&(this.cropOffsertX=this.w-a)),n>this.cropH&&(this.cropH=n,this.cropOffsertY+n>this.h&&(this.cropOffsertY=this.h-n)),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(t){if(t.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(t),!1;if(t.touches&&2===t.touches.length)return this.crop=!1,this.startMove(t),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var e,o,i="clientX"in t?t.clientX:t.touches[0].clientX,r="clientY"in t?t.clientY:t.touches[0].clientY;e=i-this.cropOffsertX,o=r-this.cropOffsertY,this.cropX=e,this.cropY=o,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(t,e){var o=this,i=0,r=0;t&&(t.preventDefault(),i="clientX"in t?t.clientX:t.touches[0].clientX,r="clientY"in t?t.clientY:t.touches[0].clientY),this.$nextTick((function(){var t,a,n=i-o.cropX,s=r-o.cropY;if(e&&(n=o.cropOffsertX,s=o.cropOffsertY),t=n<=0?0:n+o.cropW>o.w?o.w-o.cropW:n,a=s<=0?0:s+o.cropH>o.h?o.h-o.cropH:s,o.centerBox){var c=o.getImgAxis();t<=c.x1&&(t=c.x1),t+o.cropW>c.x2&&(t=c.x2-o.cropW),a<=c.y1&&(a=c.y1),a+o.cropH>c.y2&&(a=c.y2-o.cropH)}o.cropOffsertX=t,o.cropOffsertY=a,o.$emit("cropMoving",{moving:!0,axis:o.getCropAxis()}),o.$emit("crop-moving",{moving:!0,axis:o.getCropAxis()})}))},getImgAxis:function(t,e,o){t=t||this.x,e=e||this.y,o=o||this.scale;var i={x1:0,x2:0,y1:0,y2:0},r=this.trueWidth*o,a=this.trueHeight*o;switch(this.rotate){case 0:i.x1=t+this.trueWidth*(1-o)/2,i.x2=i.x1+this.trueWidth*o,i.y1=e+this.trueHeight*(1-o)/2,i.y2=i.y1+this.trueHeight*o;break;case 1:case-1:case 3:case-3:i.x1=t+this.trueWidth*(1-o)/2+(r-a)/2,i.x2=i.x1+this.trueHeight*o,i.y1=e+this.trueHeight*(1-o)/2+(a-r)/2,i.y2=i.y1+this.trueWidth*o;break;default:i.x1=t+this.trueWidth*(1-o)/2,i.x2=i.x1+this.trueWidth*o,i.y1=e+this.trueHeight*(1-o)/2,i.y2=i.y1+this.trueHeight*o}return i},getCropAxis:function(){var t={x1:0,x2:0,y1:0,y2:0};return t.x1=this.cropOffsertX,t.x2=t.x1+this.cropW,t.y1=this.cropOffsertY,t.y2=t.y1+this.cropH,t},leaveCrop:function(t){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(t){var e=this,o=document.createElement("canvas"),i=new Image,r=this.rotate,a=this.trueWidth,n=this.trueHeight,s=this.cropOffsertX,c=this.cropOffsertY;function l(t,e){o.width=Math.round(t),o.height=Math.round(e)}i.onload=function(){if(0!==e.cropW){var u=o.getContext("2d"),p=1;e.high&!e.full&&(p=window.devicePixelRatio),1!==e.enlarge&!e.full&&(p=Math.abs(Number(e.enlarge)));var h=e.cropW*p,d=e.cropH*p,f=a*e.scale*p,m=n*e.scale*p,v=(e.x-s+e.trueWidth*(1-e.scale)/2)*p,g=(e.y-c+e.trueHeight*(1-e.scale)/2)*p;switch(l(h,d),u.save(),r){case 0:e.full?(l(h/e.scale,d/e.scale),u.drawImage(i,v/e.scale,g/e.scale,f/e.scale,m/e.scale)):u.drawImage(i,v,g,f,m);break;case 1:case-3:e.full?(l(h/e.scale,d/e.scale),v=v/e.scale+(f/e.scale-m/e.scale)/2,g=g/e.scale+(m/e.scale-f/e.scale)/2,u.rotate(90*r*Math.PI/180),u.drawImage(i,g,-v-m/e.scale,f/e.scale,m/e.scale)):(v+=(f-m)/2,g+=(m-f)/2,u.rotate(90*r*Math.PI/180),u.drawImage(i,g,-v-m,f,m));break;case 2:case-2:e.full?(l(h/e.scale,d/e.scale),u.rotate(90*r*Math.PI/180),v/=e.scale,g/=e.scale,u.drawImage(i,-v-f/e.scale,-g-m/e.scale,f/e.scale,m/e.scale)):(u.rotate(90*r*Math.PI/180),u.drawImage(i,-v-f,-g-m,f,m));break;case 3:case-1:e.full?(l(h/e.scale,d/e.scale),v=v/e.scale+(f/e.scale-m/e.scale)/2,g=g/e.scale+(m/e.scale-f/e.scale)/2,u.rotate(90*r*Math.PI/180),u.drawImage(i,-g-f/e.scale,v,f/e.scale,m/e.scale)):(v+=(f-m)/2,g+=(m-f)/2,u.rotate(90*r*Math.PI/180),u.drawImage(i,-g-f,v,f,m));break;default:e.full?(l(h/e.scale,d/e.scale),u.drawImage(i,v/e.scale,g/e.scale,f/e.scale,m/e.scale)):u.drawImage(i,v,g,f,m)}u.restore()}else{var y=a*e.scale,C=n*e.scale,w=o.getContext("2d");switch(w.save(),r){case 0:l(y,C),w.drawImage(i,0,0,y,C);break;case 1:case-3:l(C,y),w.rotate(90*r*Math.PI/180),w.drawImage(i,0,-C,y,C);break;case 2:case-2:l(y,C),w.rotate(90*r*Math.PI/180),w.drawImage(i,-y,-C,y,C);break;case 3:case-1:l(C,y),w.rotate(90*r*Math.PI/180),w.drawImage(i,-y,0,y,C);break;default:l(y,C),w.drawImage(i,0,0,y,C)}w.restore()}t(o)},"data"!==this.img.substr(0,4)&&(i.crossOrigin="Anonymous"),i.src=this.imgs},getCropData:function(t){var e=this;this.getCropChecked((function(o){t(o.toDataURL("image/"+e.outputType,e.outputSize))}))},getCropBlob:function(t){var e=this;this.getCropChecked((function(o){o.toBlob((function(e){return t(e)}),"image/"+e.outputType,e.outputSize)}))},showPreview:function(){var t=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout((function(){t.isCanShow=!0}),16);var e=this.cropW,o=this.cropH,i=this.scale,r={};r.div={width:"".concat(e,"px"),height:"".concat(o,"px")};var a=(this.x-this.cropOffsertX)/i,n=(this.y-this.cropOffsertY)/i;r.w=e,r.h=o,r.url=this.imgs,r.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(i,")translate3d(").concat(a,"px, ").concat(n,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},r.html='\n      <div class="show-preview" style="width: '.concat(r.w,"px; height: ").concat(r.h,'px; overflow: hidden">\n        <div style="width: ').concat(e,"px; height: ").concat(o,'px">\n          <img src=').concat(r.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(i,")translate3d(").concat(a,"px, ").concat(n,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",r),this.$emit("real-time",r)},reload:function(){var t=this,e=new Image;e.onload=function(){t.w=parseFloat(window.getComputedStyle(t.$refs.cropper).width),t.h=parseFloat(window.getComputedStyle(t.$refs.cropper).height),t.trueWidth=e.width,t.trueHeight=e.height,t.original?t.scale=1:t.scale=t.checkedMode(),t.$nextTick((function(){t.x=-(t.trueWidth-t.trueWidth*t.scale)/2+(t.w-t.trueWidth*t.scale)/2,t.y=-(t.trueHeight-t.trueHeight*t.scale)/2+(t.h-t.trueHeight*t.scale)/2,t.loading=!1,t.autoCrop&&t.goAutoCrop(),t.$emit("img-load","success"),t.$emit("imgLoad","success"),setTimeout((function(){t.showPreview()}),20)}))},e.onerror=function(){t.$emit("imgLoad","error"),t.$emit("img-load","error")},e.src=this.imgs},checkedMode:function(){var t=1,e=(this.trueWidth,this.trueHeight),o=this.mode.split(" ");switch(o[0]){case"contain":this.trueWidth>this.w&&(t=this.w/this.trueWidth),this.trueHeight*t>this.h&&(t=this.h/this.trueHeight);break;case"cover":(e*=t=this.w/this.trueWidth)<this.h&&(t=(e=this.h)/this.trueHeight);break;default:try{var i=o[0];if(-1!==i.search("px")){i=i.replace("px","");var r=parseFloat(i)/this.trueWidth,a=1,n=o[1];-1!==n.search("px")&&(n=n.replace("px",""),a=(e=parseFloat(n))/this.trueHeight),t=Math.min(r,a)}if(-1!==i.search("%")&&(i=i.replace("%",""),t=parseFloat(i)/100*this.w/this.trueWidth),2===o.length&&"auto"===i){var s=o[1];-1!==s.search("px")&&(s=s.replace("px",""),t=(e=parseFloat(s))/this.trueHeight),-1!==s.search("%")&&(s=s.replace("%",""),t=(e=parseFloat(s)/100*this.h)/this.trueHeight)}}catch(e){t=1}}return t},goAutoCrop:function(t,e){if(""!==this.imgs&&null!==this.imgs){this.clearCrop(),this.cropping=!0;var o=this.w,i=this.h;if(this.centerBox){var r=Math.abs(this.rotate)%2>0,a=(r?this.trueHeight:this.trueWidth)*this.scale,n=(r?this.trueWidth:this.trueHeight)*this.scale;o=a<o?a:o,i=n<i?n:i}var s=t||parseFloat(this.autoCropWidth),c=e||parseFloat(this.autoCropHeight);0!==s&&0!==c||(s=.8*o,c=.8*i),s=s>o?o:s,c=c>i?i:c,this.fixed&&(c=s/this.fixedNumber[0]*this.fixedNumber[1]),c>this.h&&(s=(c=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(s,c)}},changeCrop:function(t,e){var o=this;if(this.centerBox){var i=this.getImgAxis();t>i.x2-i.x1&&(e=(t=i.x2-i.x1)/this.fixedNumber[0]*this.fixedNumber[1]),e>i.y2-i.y1&&(t=(e=i.y2-i.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=t,this.cropH=e,this.checkCropLimitSize(),this.$nextTick((function(){o.cropOffsertX=(o.w-o.cropW)/2,o.cropOffsertY=(o.h-o.cropH)/2,o.centerBox&&o.moveCrop(null,!0)}))},refresh:function(){var t=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){t.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(t,e,o){t=t||this.x,e=e||this.y,o=o||this.scale;var i=!0;if(this.centerBox){var r=this.getImgAxis(t,e,o),a=this.getCropAxis();r.x1>=a.x1&&(i=!1),r.x2<=a.x2&&(i=!1),r.y1>=a.y1&&(i=!1),r.y2<=a.y2&&(i=!1)}return i}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var t=this,e=navigator.userAgent;this.isIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,o,i){for(var r=atob(this.toDataURL(o,i).split(",")[1]),a=r.length,n=new Uint8Array(a),s=0;s<a;s++)n[s]=r.charCodeAt(s);e(new Blob([n],{type:t.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}};o(125);const c=function(t,e,o,i,r,a,n,s){var c="function"==typeof t?t.options:t;return e&&(c.render=e,c.staticRenderFns=[],c._compiled=!0),c._scopeId="data-v-"+a,{exports:t,options:c}}(s,t,0,0,0,"8ed66ddc").exports;var l=function(t){t.component("VueCropper",c)};"undefined"!=typeof window&&window.Vue&&l(window.Vue);const u={version:"0.5.11",install:l,VueCropper:c,vueCropper:c}})(),i})(),t.exports=i()},cQhO:function(t,e,o){"use strict";o("L3Dc")},k0PO:function(t,e,o){t.exports=o.p+"static/img/video_empty.c4bc188.png"},kJQY:function(t,e,o){"use strict";o.r(e);var i=o("xibL"),r=o("+THw");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("cQhO");var n=o("gp09"),s=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},mnYc:function(t,e,o){"use strict";o.r(e);var i=o("EWg4"),r=o("QqVz");for(var a in r)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("qiMf");var n=o("gp09"),s=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);e.default=s.exports},qiMf:function(t,e,o){"use strict";o("XlER")},xibL:function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"custom_video"},[t.showVideoPlayer?[e("video",{ref:"video",attrs:{src:t.src,poster:t.poster,controls:""}}),t._v(" "),t.coverImg&&!t.played?[e("div",{staticClass:"bg-cover"}),t._v(" "),t.coverImg?e("img",{staticClass:"canvas-video",attrs:{src:""+t.$options.filters.formatUrl(t.coverImg)},on:{click:function(e){return e.stopPropagation(),t.play()}}}):t._e(),t._v(" "),e("div",{staticClass:"middle_operate_btn",on:{click:function(e){return e.stopPropagation(),t.play()}}},[e("img",{attrs:{src:o("/NyI")}})])]:t._e()]:e("video",{attrs:{poster:o("k0PO")}})],2)},r=[]},ybhO:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{src:{type:String,default:""},poster:{type:String,default:""},showVideoPlayer:{type:Boolean,default:!0},coverImg:{type:String,default:""}},filters:{formatUrl:function(t){return t?0==t.indexOf("http")?t:""+window.location.origin+t:""}},data:function(){return{played:!1}},methods:{play:function(){this.played=!0,this.$refs.video.play()}}}}}]);